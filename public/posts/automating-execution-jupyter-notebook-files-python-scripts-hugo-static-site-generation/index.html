






<!doctype html>
<html
  lang="en"
  dir="ltr"
  class="scroll-smooth"
  data-default-appearance="light"
  data-auto-appearance="true"
><head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <meta name="theme-color" content="#FFFFFF" />
  
  <title>Automating Execution of Jupyter Notebook Files, Python Scripts, and Hugo Static Site Generation &middot; Jared Szajkowski</title>
    <meta name="title" content="Automating Execution of Jupyter Notebook Files, Python Scripts, and Hugo Static Site Generation &middot; Jared Szajkowski" />
  
  
  
  
  
  <script
    type="text/javascript"
    src="https://jaredszajkowski.github.io/jaredszajkowski.github.io_congo/js/appearance.min.8a082f81b27f3cb2ee528df0b0bdc39787034cf2cc34d4669fbc9977c929023c.js"
    integrity="sha256-iggvgbJ/PLLuUo3wsL3Dl4cDTPLMNNRmn7yZd8kpAjw="
  ></script>
  
  
  
  
  
  
  
  
  <link
    type="text/css"
    rel="stylesheet"
    href="https://jaredszajkowski.github.io/jaredszajkowski.github.io_congo/css/main.bundle.min.849ae3cca8bfa5452a322fbcb668aa1b8ef9f9b3c3f7df5edc4a8bd0ca5728b4.css"
    integrity="sha256-hJrjzKi/pUUqMi&#43;8tmiqG475&#43;bPD999e3EqL0MpXKLQ="
  />
  
    
    
    
  
  
    
    
    
  
  
    
    
  
  
    
    
  
  
  
    
    <script
      defer
      type="text/javascript"
      id="script-bundle"
      src="https://jaredszajkowski.github.io/jaredszajkowski.github.io_congo/js/main.bundle.min.3deb0a38c81305c3cd8231a82b0c41525e4c2546c727c39d3ed6d12564664993.js"
      integrity="sha256-PesKOMgTBcPNgjGoKwxBUl5MJUbHJ8OdPtbRJWRmSZM="
      data-copy="Copy"
      data-copied="Copied"
    ></script>
  
  
  <meta
    name="description"
    content="
      A full-stack approach using doit.
    "
  />
  
  
  
  
    <link rel="canonical" href="https://jaredszajkowski.github.io/jaredszajkowski.github.io_congo/posts/automating-execution-jupyter-notebook-files-python-scripts-hugo-static-site-generation/" />
  
  
  
    <link rel="apple-touch-icon" sizes="180x180" href="/jaredszajkowski.github.io_congo/apple-touch-icon.png" />
    <link rel="icon" type="image/png" sizes="32x32" href="/jaredszajkowski.github.io_congo/favicon-32x32.png" />
    <link rel="icon" type="image/png" sizes="16x16" href="/jaredszajkowski.github.io_congo/favicon-16x16.png" />
    <link rel="manifest" href="/jaredszajkowski.github.io_congo/site.webmanifest" />
  
  
  
  
  
  
  
  
  <meta property="og:url" content="https://jaredszajkowski.github.io/jaredszajkowski.github.io_congo/posts/automating-execution-jupyter-notebook-files-python-scripts-hugo-static-site-generation/">
  <meta property="og:site_name" content="Jared Szajkowski">
  <meta property="og:title" content="Automating Execution of Jupyter Notebook Files, Python Scripts, and Hugo Static Site Generation">
  <meta property="og:description" content="A full-stack approach using doit.">
  <meta property="og:locale" content="en">
  <meta property="og:type" content="article">
    <meta property="article:section" content="posts">
    <meta property="article:published_time" content="2025-06-29T00:00:01+00:00">
    <meta property="article:modified_time" content="2025-07-28T00:00:01+00:00">

  
  <meta name="twitter:card" content="summary">
  <meta name="twitter:title" content="Automating Execution of Jupyter Notebook Files, Python Scripts, and Hugo Static Site Generation">
  <meta name="twitter:description" content="A full-stack approach using doit.">

  
  <script type="application/ld+json">
  {
    "@context": "https://schema.org",
    "@type": "Article",
    "articleSection": "Posts",
    "name": "Automating Execution of Jupyter Notebook Files, Python Scripts, and Hugo Static Site Generation",
    "headline": "Automating Execution of Jupyter Notebook Files, Python Scripts, and Hugo Static Site Generation",
    "description": "A full-stack approach using doit.",
    "abstract": "A full-stack approach using doit.",
    "inLanguage": "en",
    "url" : "https:\/\/jaredszajkowski.github.io\/jaredszajkowski.github.io_congo\/posts\/automating-execution-jupyter-notebook-files-python-scripts-hugo-static-site-generation\/",
    "author" : {
      "@type": "Person",
      "name": "Jared Szajkowski"
    },
    "copyrightYear": "2025",
    "dateCreated": "2025-06-29T00:00:01\u002b00:00",
    "datePublished": "2025-06-29T00:00:01\u002b00:00",
    
    "dateModified": "2025-07-28T00:00:01\u002b00:00",
    
    
    
    "mainEntityOfPage": "true",
    "wordCount": "2177"
  }
  </script>
    
    <script type="application/ld+json">
    {
   "@context": "https://schema.org",
   "@type": "BreadcrumbList",
   "itemListElement": [
     {
       "@type": "ListItem",
       "item": "https://jaredszajkowski.github.io/jaredszajkowski.github.io_congo/",
       "name": "Jared Szajkowski",
       "position": 1
     },
     {
       "@type": "ListItem",
       "item": "https://jaredszajkowski.github.io/jaredszajkowski.github.io_congo/posts/",
       "name": "Posts",
       "position": 2
     },
     {
       "@type": "ListItem",
       "name": "Automating Execution of Jupyter Notebook Files, Python Scripts, and Hugo Static Site Generation",
       "position": 3
     }
   ]
 }
  </script>

  
  
    <meta name="author" content="Jared Szajkowski" />
  
  
    
      <link href="mailto:jared.szajkowski@gmail.com" rel="me" />
    
      <link href="https://github.com/jaredszajkowski" rel="me" />
    
      <link href="https://linkedin.com/in/jaredszajkowski" rel="me" />
    
  
  
  







  
  
  
  
  
  


  
  
</head>
<body
    class="m-auto flex h-screen max-w-7xl flex-col bg-neutral px-6 text-lg leading-7 text-neutral-900 dark:bg-neutral-800 dark:text-neutral sm:px-14 md:px-24 lg:px-32"
  >
    <div id="the-top" class="absolute flex self-center">
      <a
        class="-translate-y-8 rounded-b-lg bg-primary-200 px-3 py-1 text-sm focus:translate-y-0 dark:bg-neutral-600"
        href="#main-content"
        ><span class="pe-2 font-bold text-primary-600 dark:text-primary-400">&darr;</span
        >Skip to main content</a
      >
    </div>
    
    
      <header class="py-6 font-semibold text-neutral-900 dark:text-neutral sm:py-10 print:hidden">
  <nav class="flex items-start justify-between sm:items-center">
    
    <div class="z-40 flex flex-row items-center">
      
    <a href="/jaredszajkowski.github.io_congo/" class="mr-2">
      
      <img
        src="https://jaredszajkowski.github.io/jaredszajkowski.github.io_congo/img/mountain.png"
        width="120"
        height="120"
        class="max-h-[10rem] max-w-[10rem] object-scale-down object-left
        dark:hidden flex"
        alt="Jared Szajkowski"
      />
        <img
          src="https://jaredszajkowski.github.io/jaredszajkowski.github.io_congo/img/mountain-dark.png"
          width="120"
          height="120"
          class="hidden max-h-[10rem] max-w-[10rem] object-scale-down object-left dark:flex"
          alt="Jared Szajkowski"
        />
    </a>
  <a
    class="decoration-primary-500 hover:underline hover:decoration-2 hover:underline-offset-2"
    rel="me"
    href="/jaredszajkowski.github.io_congo/"
    >Jared Szajkowski</a
  >

    </div>
    
      
      <label id="menu-button" for="menu-controller" class="block sm:hidden">
        <input type="checkbox" id="menu-controller" class="hidden" />
        <div class="cursor-pointer hover:text-primary-600 dark:hover:text-primary-400">
          <span class="icon relative inline-block px-1 align-text-bottom"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><path fill="currentColor" d="M0 96C0 78.33 14.33 64 32 64H416C433.7 64 448 78.33 448 96C448 113.7 433.7 128 416 128H32C14.33 128 0 113.7 0 96zM0 256C0 238.3 14.33 224 32 224H416C433.7 224 448 238.3 448 256C448 273.7 433.7 288 416 288H32C14.33 288 0 273.7 0 256zM416 448H32C14.33 448 0 433.7 0 416C0 398.3 14.33 384 32 384H416C433.7 384 448 398.3 448 416C448 433.7 433.7 448 416 448z"/></svg>
</span>
        </div>
        <div
          id="menu-wrapper"
          class="invisible fixed inset-0 z-30 m-auto h-full w-full cursor-default overflow-auto bg-neutral-100/50 opacity-0 backdrop-blur-sm transition-opacity dark:bg-neutral-900/50"
        >
          <ul
            class="mx-auto flex w-full max-w-7xl list-none flex-col overflow-visible px-6 py-6 text-end sm:px-14 sm:py-10 sm:pt-10 md:px-24 lg:px-32"
          >
            <li class="mb-1">
              <span class="cursor-pointer hover:text-primary-600 dark:hover:text-primary-400"
                ><span class="icon relative inline-block px-1 align-text-bottom"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 320 512"><path fill="currentColor" d="M310.6 361.4c12.5 12.5 12.5 32.75 0 45.25C304.4 412.9 296.2 416 288 416s-16.38-3.125-22.62-9.375L160 301.3L54.63 406.6C48.38 412.9 40.19 416 32 416S15.63 412.9 9.375 406.6c-12.5-12.5-12.5-32.75 0-45.25l105.4-105.4L9.375 150.6c-12.5-12.5-12.5-32.75 0-45.25s32.75-12.5 45.25 0L160 210.8l105.4-105.4c12.5-12.5 32.75-12.5 45.25 0s12.5 32.75 0 45.25l-105.4 105.4L310.6 361.4z"/></svg>
</span></span
              >
            </li>
            
              
                
                <li class="group mb-1">
                  
                    <a
                      href="/jaredszajkowski.github.io_congo/posts/"
                      title="Posts"
                      onclick="close_menu()"
                      
                      ><span
                          class="decoration-primary-500 group-hover:underline group-hover:decoration-2 group-hover:underline-offset-2"
                          >Blog</span
                        >
                      </a
                    >
                  
                </li>
              
                
                <li class="group mb-1">
                  
                    <a
                      href="/jaredszajkowski.github.io_congo/topics/"
                      title="Topics"
                      onclick="close_menu()"
                      
                      ><span
                          class="decoration-primary-500 group-hover:underline group-hover:decoration-2 group-hover:underline-offset-2"
                          >Topics</span
                        >
                      </a
                    >
                  
                </li>
              
                
                <li class="group mb-1">
                  
                    <a
                      href="/jaredszajkowski.github.io_congo/links/"
                      title="Links"
                      onclick="close_menu()"
                      
                      ><span
                          class="decoration-primary-500 group-hover:underline group-hover:decoration-2 group-hover:underline-offset-2"
                          >Links</span
                        >
                      </a
                    >
                  
                </li>
              
                
                <li class="group mb-1">
                  
                    <a
                      href="/jaredszajkowski.github.io_congo/about-me/"
                      title="About Me"
                      onclick="close_menu()"
                      
                      ><span
                          class="decoration-primary-500 group-hover:underline group-hover:decoration-2 group-hover:underline-offset-2"
                          >About Me</span
                        >
                      </a
                    >
                  
                </li>
              
                
                <li class="group mb-1">
                  
                    
                    <button
                      id="appearance-switcher-1"
                      type="button"
                      aria-label="appearance switcher"
                    >
                      <span
                        class="group-dark:hover:text-primary-400 inline transition-colors group-hover:text-primary-600 dark:hidden"
                        title="Switch to dark appearance"
                      >
                        <span class="icon relative inline-block px-1 align-text-bottom"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><path fill="currentColor" d="M32 256c0-123.8 100.3-224 223.8-224c11.36 0 29.7 1.668 40.9 3.746c9.616 1.777 11.75 14.63 3.279 19.44C245 86.5 211.2 144.6 211.2 207.8c0 109.7 99.71 193 208.3 172.3c9.561-1.805 16.28 9.324 10.11 16.95C387.9 448.6 324.8 480 255.8 480C132.1 480 32 379.6 32 256z"/></svg>
</span><span
                            class="decoration-primary-500 group-hover:underline group-hover:decoration-2 group-hover:underline-offset-2"
                            ></span
                          >
                        
                      </span>
                      <span
                        class="group-dark:hover:text-primary-400 hidden transition-colors group-hover:text-primary-600 dark:inline"
                        title="Switch to light appearance"
                      >
                        <span class="icon relative inline-block px-1 align-text-bottom"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><path fill="currentColor" d="M256 159.1c-53.02 0-95.1 42.98-95.1 95.1S202.1 351.1 256 351.1s95.1-42.98 95.1-95.1S309 159.1 256 159.1zM509.3 347L446.1 255.1l63.15-91.01c6.332-9.125 1.104-21.74-9.826-23.72l-109-19.7l-19.7-109c-1.975-10.93-14.59-16.16-23.72-9.824L256 65.89L164.1 2.736c-9.125-6.332-21.74-1.107-23.72 9.824L121.6 121.6L12.56 141.3C1.633 143.2-3.596 155.9 2.736 164.1L65.89 256l-63.15 91.01c-6.332 9.125-1.105 21.74 9.824 23.72l109 19.7l19.7 109c1.975 10.93 14.59 16.16 23.72 9.824L256 446.1l91.01 63.15c9.127 6.334 21.75 1.107 23.72-9.822l19.7-109l109-19.7C510.4 368.8 515.6 356.1 509.3 347zM256 383.1c-70.69 0-127.1-57.31-127.1-127.1c0-70.69 57.31-127.1 127.1-127.1s127.1 57.3 127.1 127.1C383.1 326.7 326.7 383.1 256 383.1z"/></svg>
</span><span
                            class="decoration-primary-500 group-hover:underline group-hover:decoration-2 group-hover:underline-offset-2"
                            ></span
                          >
                        
                      </span>
                    </button>
                  
                </li>
              
                
                <li class="group mb-1">
                  
                    
                    
                      <button
                        id="search-button-1"
                        title="Search (/)"
                      >
                        
                          <span
                            class="group-dark:hover:text-primary-400 transition-colors group-hover:text-primary-600"
                          ><span class="icon relative inline-block px-1 align-text-bottom"><svg aria-hidden="true" focusable="false" data-prefix="fas" data-icon="search" class="svg-inline--fa fa-search fa-w-16" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><path fill="currentColor" d="M505 442.7L405.3 343c-4.5-4.5-10.6-7-17-7H372c27.6-35.3 44-79.7 44-128C416 93.1 322.9 0 208 0S0 93.1 0 208s93.1 208 208 208c48.3 0 92.7-16.4 128-44v16.3c0 6.4 2.5 12.5 7 17l99.7 99.7c9.4 9.4 24.6 9.4 33.9 0l28.3-28.3c9.4-9.4 9.4-24.6.1-34zM208 336c-70.7 0-128-57.2-128-128 0-70.7 57.2-128 128-128 70.7 0 128 57.2 128 128 0 70.7-57.2 128-128 128z"/></svg>
</span></span><span
                            class="decoration-primary-500 group-hover:underline group-hover:decoration-2 group-hover:underline-offset-2"
                            ></span
                          >
                        
                      </button>
                    
                  
                </li>
              
                
                  
              
            
          </ul>
        </div>
      </label>
      
      <ul class="hidden list-none flex-row text-end sm:flex">
        
          
            
            <li class="group mb-1 sm:mb-0 sm:me-7 sm:last:me-0">
              
                <a
                  href="/jaredszajkowski.github.io_congo/posts/"
                  title="Posts"
                  
                  ><span
                      class="decoration-primary-500 group-hover:underline group-hover:decoration-2 group-hover:underline-offset-2"
                      >Blog</span
                    >
                  </a
                >
              
            </li>
          
            
            <li class="group mb-1 sm:mb-0 sm:me-7 sm:last:me-0">
              
                <a
                  href="/jaredszajkowski.github.io_congo/topics/"
                  title="Topics"
                  
                  ><span
                      class="decoration-primary-500 group-hover:underline group-hover:decoration-2 group-hover:underline-offset-2"
                      >Topics</span
                    >
                  </a
                >
              
            </li>
          
            
            <li class="group mb-1 sm:mb-0 sm:me-7 sm:last:me-0">
              
                <a
                  href="/jaredszajkowski.github.io_congo/links/"
                  title="Links"
                  
                  ><span
                      class="decoration-primary-500 group-hover:underline group-hover:decoration-2 group-hover:underline-offset-2"
                      >Links</span
                    >
                  </a
                >
              
            </li>
          
            
            <li class="group mb-1 sm:mb-0 sm:me-7 sm:last:me-0">
              
                <a
                  href="/jaredszajkowski.github.io_congo/about-me/"
                  title="About Me"
                  
                  ><span
                      class="decoration-primary-500 group-hover:underline group-hover:decoration-2 group-hover:underline-offset-2"
                      >About Me</span
                    >
                  </a
                >
              
            </li>
          
            
            <li class="group mb-1 sm:mb-0 sm:me-7 sm:last:me-0">
              
                
                <button
                  id="appearance-switcher-2"
                  type="button"
                  aria-label="appearance switcher"
                >
                  <span
                    class="group-dark:hover:text-primary-400 inline transition-colors group-hover:text-primary-600 dark:hidden"
                    title="Switch to dark appearance"
                  >
                    <span class="icon relative inline-block px-1 align-text-bottom"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><path fill="currentColor" d="M32 256c0-123.8 100.3-224 223.8-224c11.36 0 29.7 1.668 40.9 3.746c9.616 1.777 11.75 14.63 3.279 19.44C245 86.5 211.2 144.6 211.2 207.8c0 109.7 99.71 193 208.3 172.3c9.561-1.805 16.28 9.324 10.11 16.95C387.9 448.6 324.8 480 255.8 480C132.1 480 32 379.6 32 256z"/></svg>
</span><span
                        class="decoration-primary-500 group-hover:underline group-hover:decoration-2 group-hover:underline-offset-2"
                        ></span
                      >
                    
                  </span>
                  <span
                    class="group-dark:hover:text-primary-400 hidden transition-colors group-hover:text-primary-600 dark:inline"
                    title="Switch to light appearance"
                  >
                    <span class="icon relative inline-block px-1 align-text-bottom"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><path fill="currentColor" d="M256 159.1c-53.02 0-95.1 42.98-95.1 95.1S202.1 351.1 256 351.1s95.1-42.98 95.1-95.1S309 159.1 256 159.1zM509.3 347L446.1 255.1l63.15-91.01c6.332-9.125 1.104-21.74-9.826-23.72l-109-19.7l-19.7-109c-1.975-10.93-14.59-16.16-23.72-9.824L256 65.89L164.1 2.736c-9.125-6.332-21.74-1.107-23.72 9.824L121.6 121.6L12.56 141.3C1.633 143.2-3.596 155.9 2.736 164.1L65.89 256l-63.15 91.01c-6.332 9.125-1.105 21.74 9.824 23.72l109 19.7l19.7 109c1.975 10.93 14.59 16.16 23.72 9.824L256 446.1l91.01 63.15c9.127 6.334 21.75 1.107 23.72-9.822l19.7-109l109-19.7C510.4 368.8 515.6 356.1 509.3 347zM256 383.1c-70.69 0-127.1-57.31-127.1-127.1c0-70.69 57.31-127.1 127.1-127.1s127.1 57.3 127.1 127.1C383.1 326.7 326.7 383.1 256 383.1z"/></svg>
</span><span
                        class="decoration-primary-500 group-hover:underline group-hover:decoration-2 group-hover:underline-offset-2"
                        ></span
                      >
                    
                  </span>
                </button>
              
            </li>
          
            
            <li class="group mb-1 sm:mb-0 sm:me-7 sm:last:me-0">
              
                
                
                  <button
                    id="search-button-2"
                    title="Search (/)"
                  >
                    
                      <span
                        class="group-dark:hover:text-primary-400 transition-colors group-hover:text-primary-600"
                      ><span class="icon relative inline-block px-1 align-text-bottom"><svg aria-hidden="true" focusable="false" data-prefix="fas" data-icon="search" class="svg-inline--fa fa-search fa-w-16" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><path fill="currentColor" d="M505 442.7L405.3 343c-4.5-4.5-10.6-7-17-7H372c27.6-35.3 44-79.7 44-128C416 93.1 322.9 0 208 0S0 93.1 0 208s93.1 208 208 208c48.3 0 92.7-16.4 128-44v16.3c0 6.4 2.5 12.5 7 17l99.7 99.7c9.4 9.4 24.6 9.4 33.9 0l28.3-28.3c9.4-9.4 9.4-24.6.1-34zM208 336c-70.7 0-128-57.2-128-128 0-70.7 57.2-128 128-128 70.7 0 128 57.2 128 128 0 70.7-57.2 128-128 128z"/></svg>
</span></span><span
                        class="decoration-primary-500 group-hover:underline group-hover:decoration-2 group-hover:underline-offset-2"
                        ></span
                      >
                    
                  </button>
                
              
            </li>
          
            
              
          

        
      </ul>
    
  </nav>
</header>

    
    <div class="relative flex grow flex-col">
      <main id="main-content" class="grow">
        
  <article>
    <header class="max-w-prose">
      
      <h1 class="mb-8 mt-0 text-4xl font-extrabold text-neutral-900 dark:text-neutral">
        Automating Execution of Jupyter Notebook Files, Python Scripts, and Hugo Static Site Generation
      </h1>
      
        <div class="mb-10 text-base text-neutral-500 dark:text-neutral-400 print:hidden">
          





  
  



  

  
  
    
  

  
    
  

  
    
  

  
    
  

  


  <div class="flex flex-row flex-wrap items-center">
    
    
      <time datetime="2025-06-29 00:00:01 &#43;0000 &#43;0000">June 29, 2025</time><span class="px-2 text-primary-500">&middot;</span><time datetime="2025-07-28 00:00:01 &#43;0000 &#43;0000">Updated: July 28, 2025</time><span class="px-2 text-primary-500">&middot;</span><span>2177 words</span><span class="px-2 text-primary-500">&middot;</span><span title="Reading time">11 mins</span>
    

    
    
  </div>

  
  
    <div class="my-1 flex flex-wrap text-xs leading-relaxed text-neutral-500 dark:text-neutral-400">
      
        
          
            <a
              href="https://jaredszajkowski.github.io/jaredszajkowski.github.io_congo/topics/hugo/"
              class="mx-1 my-1 rounded-md border border-neutral-200 px-1 py-[1px] hover:border-primary-300 hover:text-primary-700 dark:border-neutral-600 dark:hover:border-primary-600 dark:hover:text-primary-400"
              >Hugo</a
            >
          
            <a
              href="https://jaredszajkowski.github.io/jaredszajkowski.github.io_congo/topics/jupyter-notebook/"
              class="mx-1 my-1 rounded-md border border-neutral-200 px-1 py-[1px] hover:border-primary-300 hover:text-primary-700 dark:border-neutral-600 dark:hover:border-primary-600 dark:hover:text-primary-400"
              >Jupyter Notebook</a
            >
          
            <a
              href="https://jaredszajkowski.github.io/jaredszajkowski.github.io_congo/topics/python/"
              class="mx-1 my-1 rounded-md border border-neutral-200 px-1 py-[1px] hover:border-primary-300 hover:text-primary-700 dark:border-neutral-600 dark:hover:border-primary-600 dark:hover:text-primary-400"
              >Python</a
            >
          
        
      
    </div>
  


        </div>
      
      
        <div class="prose">
          
          
          
          








  
    <picture
      class="mb-6 rounded-md"
      
    >
      
      
      
      
        <source
          
            srcset="https://jaredszajkowski.github.io/jaredszajkowski.github.io_congo/posts/automating-execution-jupyter-notebook-files-python-scripts-hugo-static-site-generation/automating-execution-jupyter-notebook-files-python-scripts-hugo-static-site-generation_final_hu_4e8cae512bdb7250.webp 330w,https://jaredszajkowski.github.io/jaredszajkowski.github.io_congo/posts/automating-execution-jupyter-notebook-files-python-scripts-hugo-static-site-generation/automating-execution-jupyter-notebook-files-python-scripts-hugo-static-site-generation_final_hu_ee5f48d940290f15.webp 660w
            
              ,https://jaredszajkowski.github.io/jaredszajkowski.github.io_congo/posts/automating-execution-jupyter-notebook-files-python-scripts-hugo-static-site-generation/automating-execution-jupyter-notebook-files-python-scripts-hugo-static-site-generation_final_hu_e20bd0e356d02e00.webp 1024w
            
            
              ,https://jaredszajkowski.github.io/jaredszajkowski.github.io_congo/posts/automating-execution-jupyter-notebook-files-python-scripts-hugo-static-site-generation/automating-execution-jupyter-notebook-files-python-scripts-hugo-static-site-generation_final_hu_f7cb88dd5b34b60.webp 1320w
            "
          
          sizes="100vw"
          type="image/webp"
        />
      
      <img
        width="1920"
        height="800"
        class="mb-6 rounded-md"
        
        
        
          src="https://jaredszajkowski.github.io/jaredszajkowski.github.io_congo/posts/automating-execution-jupyter-notebook-files-python-scripts-hugo-static-site-generation/automating-execution-jupyter-notebook-files-python-scripts-hugo-static-site-generation_final_hu_2ff26ee0b5d9cf5a.jpg" srcset="https://jaredszajkowski.github.io/jaredszajkowski.github.io_congo/posts/automating-execution-jupyter-notebook-files-python-scripts-hugo-static-site-generation/automating-execution-jupyter-notebook-files-python-scripts-hugo-static-site-generation_final_hu_a47cd0742aeb4e56.jpg 330w,https://jaredszajkowski.github.io/jaredszajkowski.github.io_congo/posts/automating-execution-jupyter-notebook-files-python-scripts-hugo-static-site-generation/automating-execution-jupyter-notebook-files-python-scripts-hugo-static-site-generation_final_hu_2ff26ee0b5d9cf5a.jpg 660w
          
            ,https://jaredszajkowski.github.io/jaredszajkowski.github.io_congo/posts/automating-execution-jupyter-notebook-files-python-scripts-hugo-static-site-generation/automating-execution-jupyter-notebook-files-python-scripts-hugo-static-site-generation_final_hu_3e54f6cdff18eb28.jpg 1024w
          
          
            ,https://jaredszajkowski.github.io/jaredszajkowski.github.io_congo/posts/automating-execution-jupyter-notebook-files-python-scripts-hugo-static-site-generation/automating-execution-jupyter-notebook-files-python-scripts-hugo-static-site-generation_final_hu_c7721d9e22bfd016.jpg 1320w
          "
          sizes="100vw"
        
      />
    </picture>
  


          
            <figcaption class="-mt-3 mb-6 text-center">Image generated by AI. Copyrights maintained by respective entities.</figcaption>
          
        </div>
      
    </header>
    <section class="prose mt-0 flex max-w-full flex-col dark:prose-invert lg:flex-row">
      
        <div class="order-first px-0 lg:order-last lg:max-w-xs lg:ps-8">
          <div class="toc pe-5 lg:sticky lg:top-10 print:hidden">
            <details open class="-ms-5 mt-0 overflow-hidden rounded-lg ps-5">
  <summary
    class="block cursor-pointer bg-neutral-100 py-1 ps-5 text-lg font-semibold text-neutral-800 dark:bg-neutral-700 dark:text-neutral-100 lg:hidden"
  >
    Table of Contents
  </summary>
  <div class="border-s border-dotted border-neutral-300 py-2 ps-5 dark:border-neutral-600">
    <nav id="TableOfContents">
  <ul>
    <li><a href="#introduction">Introduction</a></li>
    <li><a href="#motivation">Motivation</a></li>
    <li><a href="#dodopy">dodo.py</a>
      <ul>
        <li><a href="#imports">Imports</a></li>
        <li><a href="#tasks">Tasks</a></li>
      </ul>
    </li>
    <li><a href="#executing-doit">Executing doit</a></li>
    <li><a href="#references">References</a></li>
    <li><a href="#code">Code</a></li>
  </ul>
</nav>
  </div>
</details>

          </div>
        </div>
      
      <div class="min-h-0 min-w-0 max-w-prose grow">
        <h2 id="introduction" class="relative group">Introduction <span class="absolute top-0 w-6 transition-opacity opacity-0 -start-6 not-prose group-hover:opacity-100"><a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700" style="text-decoration-line: none !important;" href="#introduction" aria-label="Anchor">#</a></span></h2><p>In this post, I&rsquo;ll cover the implementation of <a href="https://pydoit.org/" target="_blank" rel="noreferrer">doit</a> to automate the execution of Jupyter notebook files, Python scripts, and building the Hugo static site. Many of the concepts covered below were introduced recently in <a href="https://finmath.uchicago.edu/curriculum/degree-concentrations/financial-computing/finm-32900/" target="_blank" rel="noreferrer">FINM 32900 - Full-Stack Quantitative Finance</a>. This course emphasized the &ldquo;full stack&rdquo; approach, including the following:</p>
<ul>
<li>Use of GitHub</li>
<li>Virtual environments</li>
<li>Environment variables</li>
<li>Use of various data sources (particularly WRDS)</li>
<li>Processing/cleaning data</li>
<li>GitHub actions</li>
<li>Publishing data</li>
<li>Restricting access to GitHub hosted sites</li>
</ul>
<h2 id="motivation" class="relative group">Motivation <span class="absolute top-0 w-6 transition-opacity opacity-0 -start-6 not-prose group-hover:opacity-100"><a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700" style="text-decoration-line: none !important;" href="#motivation" aria-label="Anchor">#</a></span></h2><p>The primary motivation for automation came from several realizations:</p>
<ol>
<li>Setting directory variables would avoid any issues with managing where the static files were stored locally</li>
<li>I wanted to be able to pull updated data, execute Jupyter notebooks, and update the posts within my Hugo site without a manual intervention and processes</li>
<li>I like to include the html and PDF exports of the Jupyter notebooks, which required copying the exports to the &ldquo;Public&rdquo; folder of the website</li>
<li>I needed a system to build the &ldquo;index.md&rdquo; files that are present in each post directory, and automatically include Python code and functions (again, without copying/pasting or manual processes)</li>
</ol>
<h2 id="dodopy" class="relative group">dodo.py <span class="absolute top-0 w-6 transition-opacity opacity-0 -start-6 not-prose group-hover:opacity-100"><a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700" style="text-decoration-line: none !important;" href="#dodopy" aria-label="Anchor">#</a></span></h2><p>The <code>dodo.py</code> file in the primary directory is referenced by <code>doit</code> and includes all imports, functions, environment variables, etc. as required to execute the desired code. My <code>dodo.py</code> is broken down as follows:</p>
<h3 id="imports" class="relative group">Imports <span class="absolute top-0 w-6 transition-opacity opacity-0 -start-6 not-prose group-hover:opacity-100"><a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700" style="text-decoration-line: none !important;" href="#imports" aria-label="Anchor">#</a></span></h3><p>The inital imports are as follows:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-text" data-lang="text"><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">```python
</span></span><span class="line"><span class="cl">#######################################
</span></span><span class="line"><span class="cl">## Import Libraries
</span></span><span class="line"><span class="cl">#######################################
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">import sys
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">## Make sure the src folder is in the path
</span></span><span class="line"><span class="cl">sys.path.insert(1, &#34;./src/&#34;)
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">import re
</span></span><span class="line"><span class="cl">import shutil
</span></span><span class="line"><span class="cl">import subprocess
</span></span><span class="line"><span class="cl">import time
</span></span><span class="line"><span class="cl">import yaml
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">from colorama import Fore, Style, init
</span></span><span class="line"><span class="cl">from datetime import datetime
</span></span><span class="line"><span class="cl">from os import environ, getcwd, path
</span></span><span class="line"><span class="cl">from pathlib import Path
</span></span></code></pre></div><div class="highlight"><pre tabindex="0" class="chroma"><code class="language-mysql" data-lang="mysql"><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="n">This</span><span class="w"> </span><span class="n">first</span><span class="w"> </span><span class="n">adds</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="o">`/</span><span class="n">src</span><span class="o">/`</span><span class="w"> </span><span class="n">subdirectory</span><span class="w"> </span><span class="k">to</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="nf">path</span><span class="w"> </span><span class="p">(</span><span class="n">required</span><span class="w"> </span><span class="n">later</span><span class="w"> </span><span class="k">on</span><span class="p">),</span><span class="w"> </span><span class="k">and</span><span class="w"> </span><span class="k">then</span><span class="w"> </span><span class="n">imports</span><span class="w"> </span><span class="n">any</span><span class="w"> </span><span class="n">other</span><span class="w"> </span><span class="n">required</span><span class="w"> </span><span class="n">modules</span><span class="p">.</span><span class="w"> </span><span class="n">I</span><span class="w"> </span><span class="n">prefer</span><span class="w"> </span><span class="k">to</span><span class="w"> </span><span class="n">sort</span><span class="w"> </span><span class="k">all</span><span class="w"> </span><span class="n">imports</span><span class="w"> </span><span class="n">alphabetically</span><span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="n">easy</span><span class="w"> </span><span class="n">reference</span><span class="w"> </span><span class="k">and</span><span class="w"> </span><span class="n">readability</span><span class="p">.</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="c1">### Print PyDoit Text in Green
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="n">Next</span><span class="p">,</span><span class="w"> </span><span class="n">I</span><span class="w"> </span><span class="k">use</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">following</span><span class="w"> </span><span class="n">code</span><span class="w"> </span><span class="k">to</span><span class="w"> </span><span class="n">help</span><span class="w"> </span><span class="n">differentiate</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">various</span><span class="w"> </span><span class="n">outputs</span><span class="w"> </span><span class="k">in</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">termial</span><span class="w"> </span><span class="k">when</span><span class="w"> </span><span class="n">executing</span><span class="w"> </span><span class="o">`</span><span class="n">doit</span><span class="o">`</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="o">```</span><span class="kt">text</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="o">```</span><span class="n">python</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="c1"># Code from lines 29-75 referenced from the UChicago
</span></span></span><span class="line"><span class="cl"><span class="c1"># FINM 32900 - Full-Stack Quantitative Finance course
</span></span></span><span class="line"><span class="cl"><span class="c1"># Credit to Jeremy Bejarano
</span></span></span><span class="line"><span class="cl"><span class="c1"># https://github.com/jmbejara
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="c1">## Custom reporter: Print PyDoit Text in Green
</span></span></span><span class="line"><span class="cl"><span class="c1"># This is helpful because some tasks write to sterr and pollute the output in
</span></span></span><span class="line"><span class="cl"><span class="c1"># the console. I don&#39;t want to mute this output, because this can sometimes
</span></span></span><span class="line"><span class="cl"><span class="c1"># cause issues when, for example, LaTeX hangs on an error and requires
</span></span></span><span class="line"><span class="cl"><span class="c1"># presses on the keyboard before continuing. However, I want to be able
</span></span></span><span class="line"><span class="cl"><span class="c1"># to easily see the task lines printed by PyDoit. I want them to stand out
</span></span></span><span class="line"><span class="cl"><span class="c1"># from among all the other lines printed to the console.
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="k">from</span><span class="w"> </span><span class="n">doit</span><span class="p">.</span><span class="n">reporter</span><span class="w"> </span><span class="n">import</span><span class="w"> </span><span class="n">ConsoleReporter</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="k">from</span><span class="w"> </span><span class="n">settings</span><span class="w"> </span><span class="n">import</span><span class="w"> </span><span class="n">config</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="c1">#######################################
</span></span></span><span class="line"><span class="cl"><span class="c1">## Slurm Configuration
</span></span></span><span class="line"><span class="cl"><span class="c1">#######################################
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="n">try</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="n">in_slurm</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">environ</span><span class="p">[</span><span class="s2">&#34;SLURM_JOB_ID&#34;</span><span class="p">]</span><span class="w"> </span><span class="k">is</span><span class="w"> </span><span class="k">not</span><span class="w"> </span><span class="n">None</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="n">except</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="n">in_slurm</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="no">False</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="n">class</span><span class="w"> </span><span class="nf">GreenReporter</span><span class="p">(</span><span class="n">ConsoleReporter</span><span class="p">):</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="n">def</span><span class="w"> </span><span class="k">write</span><span class="p">(</span><span class="n">self</span><span class="p">,</span><span class="w"> </span><span class="n">stuff</span><span class="p">,</span><span class="w"> </span><span class="o">**</span><span class="n">kwargs</span><span class="p">):</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="n">doit_mark</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">stuff</span><span class="p">.</span><span class="nf">split</span><span class="p">(</span><span class="s2">&#34; &#34;</span><span class="p">)[</span><span class="mi">0</span><span class="p">].</span><span class="nf">ljust</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="n">task</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">&#34; &#34;</span><span class="p">.</span><span class="k">join</span><span class="p">(</span><span class="n">stuff</span><span class="p">.</span><span class="nf">split</span><span class="p">(</span><span class="s2">&#34; &#34;</span><span class="p">)[</span><span class="mi">1</span><span class="p">:]).</span><span class="nf">strip</span><span class="p">()</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="s2">&#34;
</span></span></span><span class="line"><span class="cl"><span class="s2">&#34;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="n">output</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">(</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">            </span><span class="n">Fore</span><span class="p">.</span><span class="n">GREEN</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">            </span><span class="o">+</span><span class="w"> </span><span class="n">doit_mark</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">            </span><span class="o">+</span><span class="w"> </span><span class="n">f</span><span class="s2">&#34; {path.basename(getcwd())}: &#34;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">            </span><span class="o">+</span><span class="w"> </span><span class="n">task</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">            </span><span class="o">+</span><span class="w"> </span><span class="n">Style</span><span class="p">.</span><span class="n">RESET_ALL</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="p">)</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="n">self</span><span class="p">.</span><span class="n">outstream</span><span class="p">.</span><span class="k">write</span><span class="p">(</span><span class="n">output</span><span class="p">)</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="k">if</span><span class="w"> </span><span class="k">not</span><span class="w"> </span><span class="n">in_slurm</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="n">DOIT_CONFIG</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="err">{</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="s2">&#34;reporter&#34;</span><span class="p">:</span><span class="w"> </span><span class="n">GreenReporter</span><span class="p">,</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="c1"># other config here...
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="w">        </span><span class="c1"># &#34;cleanforget&#34;: True, # Doit will forget about tasks that have been cleaned.
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="w">        </span><span class="s2">&#34;backend&#34;</span><span class="p">:</span><span class="w"> </span><span class="s2">&#34;sqlite3&#34;</span><span class="p">,</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="s2">&#34;dep_file&#34;</span><span class="p">:</span><span class="w"> </span><span class="s2">&#34;./.doit-db.sqlite&#34;</span><span class="p">,</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="err">}</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="k">else</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="n">DOIT_CONFIG</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="err">{</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="s2">&#34;backend&#34;</span><span class="p">:</span><span class="w"> </span><span class="s2">&#34;sqlite3&#34;</span><span class="p">,</span><span class="w"> 
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="s2">&#34;dep_file&#34;</span><span class="p">:</span><span class="w"> </span><span class="s2">&#34;./.doit-db.sqlite&#34;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="err">}</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="nf">init</span><span class="p">(</span><span class="n">autoreset</span><span class="o">=</span><span class="no">True</span><span class="p">)</span><span class="w">
</span></span></span></code></pre></div><div class="highlight"><pre tabindex="0" class="chroma"><code class="language-gdscript3" data-lang="gdscript3"><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1">### Set Directory Variables</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="n">Next</span><span class="p">,</span> <span class="n">I</span> <span class="n">establish</span> <span class="n">the</span> <span class="n">variables</span> <span class="n">that</span> <span class="n">reference</span> <span class="n">some</span> <span class="n">of</span> <span class="n">the</span> <span class="n">more</span> <span class="n">important</span> <span class="n">directories</span> <span class="ow">and</span> <span class="n">subdirectories</span> <span class="ow">in</span> <span class="n">the</span> <span class="n">project</span><span class="p">:</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="err">```</span><span class="n">text</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="err">```</span><span class="n">python</span>
</span></span><span class="line"><span class="cl"><span class="c1">#######################################</span>
</span></span><span class="line"><span class="cl"><span class="c1">## Set directory variables</span>
</span></span><span class="line"><span class="cl"><span class="c1">#######################################</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="n">BASE_DIR</span> <span class="o">=</span> <span class="n">config</span><span class="p">(</span><span class="s2">&#34;BASE_DIR&#34;</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="n">CONTENT_DIR</span> <span class="o">=</span> <span class="n">config</span><span class="p">(</span><span class="s2">&#34;CONTENT_DIR&#34;</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="n">POSTS_DIR</span> <span class="o">=</span> <span class="n">config</span><span class="p">(</span><span class="s2">&#34;POSTS_DIR&#34;</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="n">PAGES_DIR</span> <span class="o">=</span> <span class="n">config</span><span class="p">(</span><span class="s2">&#34;PAGES_DIR&#34;</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="n">PUBLIC_DIR</span> <span class="o">=</span> <span class="n">config</span><span class="p">(</span><span class="s2">&#34;PUBLIC_DIR&#34;</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="n">SOURCE_DIR</span> <span class="o">=</span> <span class="n">config</span><span class="p">(</span><span class="s2">&#34;SOURCE_DIR&#34;</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="n">DATA_DIR</span> <span class="o">=</span> <span class="n">config</span><span class="p">(</span><span class="s2">&#34;DATA_DIR&#34;</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="n">DATA_MANUAL_DIR</span> <span class="o">=</span> <span class="n">config</span><span class="p">(</span><span class="s2">&#34;DATA_MANUAL_DIR&#34;</span><span class="p">)</span>
</span></span></code></pre></div><div class="highlight"><pre tabindex="0" class="chroma"><code class="language-gdscript3" data-lang="gdscript3"><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="n">These</span> <span class="n">directory</span> <span class="n">variables</span> <span class="n">are</span> <span class="n">set</span> <span class="n">from</span> <span class="n">the</span> <span class="err">`</span><span class="n">settings</span><span class="o">.</span><span class="n">py</span><span class="err">`</span> <span class="n">file</span> <span class="ow">in</span> <span class="n">the</span> <span class="err">`</span><span class="o">/</span><span class="n">src</span><span class="o">/</span><span class="err">`</span> <span class="n">directory</span><span class="o">.</span> <span class="n">Setting</span> <span class="n">these</span> <span class="n">directory</span> <span class="n">variables</span> <span class="n">allows</span> <span class="n">me</span> <span class="n">to</span> <span class="n">reference</span> <span class="n">them</span> <span class="n">at</span> <span class="n">any</span> <span class="n">point</span> <span class="n">later</span> <span class="n">on</span> <span class="ow">in</span> <span class="n">the</span> <span class="err">`</span><span class="n">dodo</span><span class="o">.</span><span class="n">py</span><span class="err">`</span> <span class="n">file</span><span class="o">.</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1">### Helper Functions</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="n">The</span> <span class="n">following</span> <span class="n">are</span> <span class="n">several</span> <span class="n">helper</span> <span class="n">functions</span> <span class="n">that</span> <span class="n">are</span> <span class="n">referenced</span> <span class="ow">in</span> <span class="n">the</span> <span class="n">tasks</span><span class="o">.</span> <span class="n">These</span> <span class="n">are</span> <span class="n">somewhat</span> <span class="bp">self</span> <span class="n">explanatory</span><span class="p">,</span> <span class="ow">and</span> <span class="n">are</span> <span class="n">used</span> <span class="n">by</span> <span class="n">the</span> <span class="n">task</span> <span class="n">functions</span> <span class="ow">in</span> <span class="n">the</span> <span class="n">next</span> <span class="n">section</span> <span class="n">below</span><span class="p">:</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="err">```</span><span class="n">python</span>
</span></span><span class="line"><span class="cl"><span class="c1">#######################################</span>
</span></span><span class="line"><span class="cl"><span class="c1">## Helper functions</span>
</span></span><span class="line"><span class="cl"><span class="c1">#######################################</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="k">def</span> <span class="nf">copy_file</span><span class="p">(</span><span class="n">origin_path</span><span class="p">,</span> <span class="n">destination_path</span><span class="p">,</span> <span class="n">mkdir</span><span class="o">=</span><span class="n">True</span><span class="p">):</span>
</span></span><span class="line"><span class="cl">    <span class="s2">&#34;&#34;&#34;Create a Python action for copying a file.&#34;&#34;&#34;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="k">def</span> <span class="nf">_copy_file</span><span class="p">():</span>
</span></span><span class="line"><span class="cl">        <span class="n">origin</span> <span class="o">=</span> <span class="ne">Path</span><span class="p">(</span><span class="n">origin_path</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">        <span class="n">dest</span> <span class="o">=</span> <span class="ne">Path</span><span class="p">(</span><span class="n">destination_path</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">        <span class="k">if</span> <span class="n">mkdir</span><span class="p">:</span>
</span></span><span class="line"><span class="cl">            <span class="n">dest</span><span class="o">.</span><span class="n">parent</span><span class="o">.</span><span class="n">mkdir</span><span class="p">(</span><span class="n">parents</span><span class="o">=</span><span class="n">True</span><span class="p">,</span> <span class="n">exist_ok</span><span class="o">=</span><span class="n">True</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">        <span class="n">shutil</span><span class="o">.</span><span class="n">copy2</span><span class="p">(</span><span class="n">origin</span><span class="p">,</span> <span class="n">dest</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="k">return</span> <span class="n">_copy_file</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="k">def</span> <span class="nf">extract_front_matter</span><span class="p">(</span><span class="n">index_path</span><span class="p">):</span>
</span></span><span class="line"><span class="cl">    <span class="s2">&#34;&#34;&#34;Extract front matter as a dict from a Hugo index.md file.&#34;&#34;&#34;</span>
</span></span><span class="line"><span class="cl">    <span class="n">text</span> <span class="o">=</span> <span class="n">index_path</span><span class="o">.</span><span class="n">read_text</span><span class="p">()</span>
</span></span><span class="line"><span class="cl">    <span class="n">match</span> <span class="o">=</span> <span class="n">re</span><span class="o">.</span><span class="n">search</span><span class="p">(</span><span class="sa">r</span><span class="s2">&#34;(?s)^---(.*?)---&#34;</span><span class="p">,</span> <span class="n">text</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">    <span class="k">if</span> <span class="n">match</span><span class="p">:</span>
</span></span><span class="line"><span class="cl">        <span class="k">return</span> <span class="n">yaml</span><span class="o">.</span><span class="n">safe_load</span><span class="p">(</span><span class="n">match</span><span class="o">.</span><span class="n">group</span><span class="p">(</span><span class="mi">1</span><span class="p">))</span>
</span></span><span class="line"><span class="cl">    <span class="k">return</span> <span class="p">{}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="k">def</span> <span class="nf">notebook_source_hash</span><span class="p">(</span><span class="n">notebook_path</span><span class="p">):</span>
</span></span><span class="line"><span class="cl">    <span class="s2">&#34;&#34;&#34;Compute a SHA-256 hash of the notebook&#39;s code and markdown cells. This includes all whitespace and comments.&#34;&#34;&#34;</span>
</span></span><span class="line"><span class="cl">    <span class="n">import</span> <span class="n">nbformat</span>
</span></span><span class="line"><span class="cl">    <span class="n">import</span> <span class="n">hashlib</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="n">with</span> <span class="n">open</span><span class="p">(</span><span class="n">notebook_path</span><span class="p">,</span> <span class="s2">&#34;r&#34;</span><span class="p">,</span> <span class="n">encoding</span><span class="o">=</span><span class="s2">&#34;utf-8&#34;</span><span class="p">)</span> <span class="n">as</span> <span class="n">f</span><span class="p">:</span>
</span></span><span class="line"><span class="cl">        <span class="n">nb</span> <span class="o">=</span> <span class="n">nbformat</span><span class="o">.</span><span class="n">read</span><span class="p">(</span><span class="n">f</span><span class="p">,</span> <span class="n">as_version</span><span class="o">=</span><span class="mi">4</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="n">relevant_cells</span> <span class="o">=</span> <span class="p">[</span>
</span></span><span class="line"><span class="cl">        <span class="n">cell</span><span class="p">[</span><span class="s2">&#34;source&#34;</span><span class="p">]</span>
</span></span><span class="line"><span class="cl">        <span class="k">for</span> <span class="n">cell</span> <span class="ow">in</span> <span class="n">nb</span><span class="o">.</span><span class="n">cells</span>
</span></span><span class="line"><span class="cl">        <span class="k">if</span> <span class="n">cell</span><span class="o">.</span><span class="n">cell_type</span> <span class="ow">in</span> <span class="p">{</span><span class="s2">&#34;code&#34;</span><span class="p">,</span> <span class="s2">&#34;markdown&#34;</span><span class="p">}</span>
</span></span><span class="line"><span class="cl">    <span class="p">]</span>
</span></span><span class="line"><span class="cl">    <span class="n">full_content</span> <span class="o">=</span> <span class="s2">&#34;</span><span class="se">\n</span><span class="s2">&#34;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">relevant_cells</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">    <span class="k">return</span> <span class="n">hashlib</span><span class="o">.</span><span class="n">sha256</span><span class="p">(</span><span class="n">full_content</span><span class="o">.</span><span class="n">encode</span><span class="p">(</span><span class="s2">&#34;utf-8&#34;</span><span class="p">))</span><span class="o">.</span><span class="n">hexdigest</span><span class="p">()</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="k">def</span> <span class="nf">clean_pdf_export_pngs</span><span class="p">(</span><span class="n">subdir</span><span class="p">,</span> <span class="n">notebook_name</span><span class="p">):</span>
</span></span><span class="line"><span class="cl">    <span class="s2">&#34;&#34;&#34;Remove .png files created by nbconvert during PDF export.&#34;&#34;&#34;</span>
</span></span><span class="line"><span class="cl">    <span class="n">pattern</span> <span class="o">=</span> <span class="n">f</span><span class="s2">&#34;{notebook_name}_*_*.png&#34;</span>
</span></span><span class="line"><span class="cl">    <span class="n">deleted</span> <span class="o">=</span> <span class="n">False</span>
</span></span><span class="line"><span class="cl">    <span class="k">for</span> <span class="n">file</span> <span class="ow">in</span> <span class="n">subdir</span><span class="o">.</span><span class="n">glob</span><span class="p">(</span><span class="n">pattern</span><span class="p">):</span>
</span></span><span class="line"><span class="cl">        <span class="nb">print</span><span class="p">(</span><span class="n">f</span><span class="s2">&#34; Removing nbconvert temp image: {file}&#34;</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">        <span class="n">file</span><span class="o">.</span><span class="n">unlink</span><span class="p">()</span>
</span></span><span class="line"><span class="cl">        <span class="n">deleted</span> <span class="o">=</span> <span class="n">True</span>
</span></span><span class="line"><span class="cl">    <span class="k">if</span> <span class="ow">not</span> <span class="n">deleted</span><span class="p">:</span>
</span></span><span class="line"><span class="cl">        <span class="nb">print</span><span class="p">(</span><span class="n">f</span><span class="s2">&#34; No temp PNGs to remove for {notebook_name}&#34;</span><span class="p">)</span>
</span></span></code></pre></div><h3 id="tasks" class="relative group">Tasks <span class="absolute top-0 w-6 transition-opacity opacity-0 -start-6 not-prose group-hover:opacity-100"><a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700" style="text-decoration-line: none !important;" href="#tasks" aria-label="Anchor">#</a></span></h3><p>Next, we will look at the individual tasks that are being executed by <code>doit</code>.</p>
<p>The config task creates the base directories for the Hugo site:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-python" data-lang="python"><span class="line"><span class="cl"><span class="c1">#######################################</span>
</span></span><span class="line"><span class="cl"><span class="c1">## PyDoit tasks</span>
</span></span><span class="line"><span class="cl"><span class="c1">#######################################</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="k">def</span> <span class="nf">task_config</span><span class="p">():</span>
</span></span><span class="line"><span class="cl">    <span class="s2">&#34;&#34;&#34;Create empty directories for content, page, post, and public if they don&#39;t exist&#34;&#34;&#34;</span>
</span></span><span class="line"><span class="cl">    <span class="k">return</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">        <span class="s2">&#34;actions&#34;</span><span class="p">:</span> <span class="p">[</span><span class="s2">&#34;ipython ./src/settings.py&#34;</span><span class="p">],</span>
</span></span><span class="line"><span class="cl">        <span class="s2">&#34;file_dep&#34;</span><span class="p">:</span> <span class="p">[</span><span class="s2">&#34;./src/settings.py&#34;</span><span class="p">],</span>
</span></span><span class="line"><span class="cl">        <span class="s2">&#34;targets&#34;</span><span class="p">:</span> <span class="p">[</span><span class="n">CONTENT_DIR</span><span class="p">,</span> <span class="n">PAGES_DIR</span><span class="p">,</span> <span class="n">POSTS_DIR</span><span class="p">,</span> <span class="n">PUBLIC_DIR</span><span class="p">],</span>
</span></span><span class="line"><span class="cl">        <span class="s2">&#34;verbosity&#34;</span><span class="p">:</span> <span class="mi">2</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">        <span class="s2">&#34;clean&#34;</span><span class="p">:</span> <span class="p">[],</span>  <span class="c1"># Don&#39;t clean these files by default.</span>
</span></span><span class="line"><span class="cl">    <span class="p">}</span>
</span></span></code></pre></div><p>The <code>task_list_posts_subdirs</code> function is not really necessary, but was used as an initial starting point for when I began building the <code>dodo.py</code> file:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-python" data-lang="python"><span class="line"><span class="cl"><span class="k">def</span> <span class="nf">task_list_posts_subdirs</span><span class="p">():</span>
</span></span><span class="line"><span class="cl">    <span class="s2">&#34;&#34;&#34;Create a list of the subdirectories of the posts directory&#34;&#34;&#34;</span>
</span></span><span class="line"><span class="cl">    <span class="k">return</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">        <span class="s2">&#34;actions&#34;</span><span class="p">:</span> <span class="p">[</span><span class="s2">&#34;python ./src/list_posts_subdirs.py&#34;</span><span class="p">],</span>
</span></span><span class="line"><span class="cl">        <span class="s2">&#34;file_dep&#34;</span><span class="p">:</span> <span class="p">[</span><span class="s2">&#34;./src/settings.py&#34;</span><span class="p">],</span>
</span></span><span class="line"><span class="cl">        <span class="c1"># &#34;targets&#34;: [POSTS_DIR],</span>
</span></span><span class="line"><span class="cl">        <span class="s2">&#34;verbosity&#34;</span><span class="p">:</span> <span class="mi">2</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">        <span class="s2">&#34;clean&#34;</span><span class="p">:</span> <span class="p">[],</span>  <span class="c1"># Don&#39;t clean these files by default.</span>
</span></span><span class="line"><span class="cl">    <span class="p">}</span>
</span></span></code></pre></div><p>The <code>task_run_post_notebooks</code> function performs the following actions:</p>
<ol>
<li>Finds all of the &ldquo;post&rdquo; subdirectories</li>
<li>In each &ldquo;post&rdquo; directory, it executes the jupyter notebook file (if found) that has the same name as the post</li>
<li>The hash of the non-markdown cells in the notebook is also checked, and if the hash has not changed since the last run, then it skips executing the notebook</li>
<li>After the notebook is executed (or not), the log is updated with the date and action</li>
</ol>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-python" data-lang="python"><span class="line"><span class="cl"><span class="k">def</span> <span class="nf">task_run_post_notebooks</span><span class="p">():</span>
</span></span><span class="line"><span class="cl">    <span class="s2">&#34;&#34;&#34;Execute notebooks that match their subdirectory names and only when code or markdown content has changed&#34;&#34;&#34;</span>
</span></span><span class="line"><span class="cl">    <span class="k">for</span> <span class="n">subdir</span> <span class="ow">in</span> <span class="n">POSTS_DIR</span><span class="o">.</span><span class="n">iterdir</span><span class="p">():</span>
</span></span><span class="line"><span class="cl">        <span class="k">if</span> <span class="ow">not</span> <span class="n">subdir</span><span class="o">.</span><span class="n">is_dir</span><span class="p">():</span>
</span></span><span class="line"><span class="cl">            <span class="k">continue</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">        <span class="n">notebook_path</span> <span class="o">=</span> <span class="n">subdir</span> <span class="o">/</span> <span class="sa">f</span><span class="s2">&#34;</span><span class="si">{</span><span class="n">subdir</span><span class="o">.</span><span class="n">name</span><span class="si">}</span><span class="s2">.ipynb&#34;</span>
</span></span><span class="line"><span class="cl">        <span class="k">if</span> <span class="ow">not</span> <span class="n">notebook_path</span><span class="o">.</span><span class="n">exists</span><span class="p">():</span>
</span></span><span class="line"><span class="cl">            <span class="k">continue</span>  <span class="c1">#  Skip subdirs with no matching notebook</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">        <span class="n">hash_file</span> <span class="o">=</span> <span class="n">subdir</span> <span class="o">/</span> <span class="sa">f</span><span class="s2">&#34;</span><span class="si">{</span><span class="n">subdir</span><span class="o">.</span><span class="n">name</span><span class="si">}</span><span class="s2">.last_source_hash&#34;</span>
</span></span><span class="line"><span class="cl">        <span class="n">log_file</span> <span class="o">=</span> <span class="n">subdir</span> <span class="o">/</span> <span class="sa">f</span><span class="s2">&#34;</span><span class="si">{</span><span class="n">subdir</span><span class="o">.</span><span class="n">name</span><span class="si">}</span><span class="s2">.log&#34;</span>
</span></span><span class="line"><span class="cl">        
</span></span><span class="line"><span class="cl">        <span class="k">def</span> <span class="nf">source_has_changed</span><span class="p">(</span><span class="n">path</span><span class="o">=</span><span class="n">notebook_path</span><span class="p">,</span> <span class="n">hash_path</span><span class="o">=</span><span class="n">hash_file</span><span class="p">,</span> <span class="n">log_path</span><span class="o">=</span><span class="n">log_file</span><span class="p">):</span>
</span></span><span class="line"><span class="cl">            <span class="n">current_hash</span> <span class="o">=</span> <span class="n">notebook_source_hash</span><span class="p">(</span><span class="n">path</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">            <span class="n">timestamp</span> <span class="o">=</span> <span class="n">datetime</span><span class="o">.</span><span class="n">now</span><span class="p">()</span><span class="o">.</span><span class="n">strftime</span><span class="p">(</span><span class="s2">&#34;%Y-%m-</span><span class="si">%d</span><span class="s2"> %H:%M:%S&#34;</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">            <span class="k">if</span> <span class="n">hash_path</span><span class="o">.</span><span class="n">exists</span><span class="p">():</span>
</span></span><span class="line"><span class="cl">                <span class="n">old_hash</span> <span class="o">=</span> <span class="n">hash_path</span><span class="o">.</span><span class="n">read_text</span><span class="p">()</span><span class="o">.</span><span class="n">strip</span><span class="p">()</span>
</span></span><span class="line"><span class="cl">                <span class="k">if</span> <span class="n">current_hash</span> <span class="o">!=</span> <span class="n">old_hash</span><span class="p">:</span>
</span></span><span class="line"><span class="cl">                    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&#34; Change detected in </span><span class="si">{</span><span class="n">path</span><span class="o">.</span><span class="n">name</span><span class="si">}</span><span class="s2">&#34;</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">                    <span class="k">return</span> <span class="kc">False</span>  <span class="c1"># needs re-run</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">                <span class="c1">#  No change  log as skipped</span>
</span></span><span class="line"><span class="cl">                <span class="k">with</span> <span class="n">log_path</span><span class="o">.</span><span class="n">open</span><span class="p">(</span><span class="s2">&#34;a&#34;</span><span class="p">)</span> <span class="k">as</span> <span class="n">log</span><span class="p">:</span>
</span></span><span class="line"><span class="cl">                    <span class="n">log</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="sa">f</span><span class="s2">&#34;[</span><span class="si">{</span><span class="n">timestamp</span><span class="si">}</span><span class="s2">]  Skipped (no changes): </span><span class="si">{</span><span class="n">path</span><span class="o">.</span><span class="n">name</span><span class="si">}</span><span class="se">\n</span><span class="s2">&#34;</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">                <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&#34; No change in hash for </span><span class="si">{</span><span class="n">path</span><span class="o">.</span><span class="n">name</span><span class="si">}</span><span class="s2">&#34;</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">                <span class="k">return</span> <span class="kc">True</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">            <span class="c1">#  No previous hash  must run</span>
</span></span><span class="line"><span class="cl">            <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&#34; No previous hash found for </span><span class="si">{</span><span class="n">path</span><span class="o">.</span><span class="n">name</span><span class="si">}</span><span class="s2">&#34;</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">            <span class="k">return</span> <span class="kc">False</span>
</span></span><span class="line"><span class="cl">        
</span></span><span class="line"><span class="cl">        <span class="k">def</span> <span class="nf">run_and_log</span><span class="p">(</span><span class="n">path</span><span class="o">=</span><span class="n">notebook_path</span><span class="p">,</span> <span class="n">hash_path</span><span class="o">=</span><span class="n">hash_file</span><span class="p">,</span> <span class="n">log_path</span><span class="o">=</span><span class="n">log_file</span><span class="p">):</span>
</span></span><span class="line"><span class="cl">            <span class="n">start_time</span> <span class="o">=</span> <span class="n">time</span><span class="o">.</span><span class="n">time</span><span class="p">()</span>
</span></span><span class="line"><span class="cl">            <span class="n">subprocess</span><span class="o">.</span><span class="n">run</span><span class="p">([</span>
</span></span><span class="line"><span class="cl">                <span class="s2">&#34;jupyter&#34;</span><span class="p">,</span> <span class="s2">&#34;nbconvert&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">                <span class="s2">&#34;--execute&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">                <span class="s2">&#34;--to&#34;</span><span class="p">,</span> <span class="s2">&#34;notebook&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">                <span class="s2">&#34;--inplace&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">                <span class="s2">&#34;--log-level=ERROR&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">                <span class="nb">str</span><span class="p">(</span><span class="n">path</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">            <span class="p">],</span> <span class="n">check</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">            <span class="n">elapsed</span> <span class="o">=</span> <span class="nb">round</span><span class="p">(</span><span class="n">time</span><span class="o">.</span><span class="n">time</span><span class="p">()</span> <span class="o">-</span> <span class="n">start_time</span><span class="p">,</span> <span class="mi">2</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">            <span class="n">new_hash</span> <span class="o">=</span> <span class="n">notebook_source_hash</span><span class="p">(</span><span class="n">path</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">            <span class="n">hash_path</span><span class="o">.</span><span class="n">write_text</span><span class="p">(</span><span class="n">new_hash</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">            <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&#34; Saved new hash for </span><span class="si">{</span><span class="n">path</span><span class="o">.</span><span class="n">name</span><span class="si">}</span><span class="s2">&#34;</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">            <span class="n">timestamp</span> <span class="o">=</span> <span class="n">datetime</span><span class="o">.</span><span class="n">now</span><span class="p">()</span><span class="o">.</span><span class="n">strftime</span><span class="p">(</span><span class="s2">&#34;%Y-%m-</span><span class="si">%d</span><span class="s2"> %H:%M:%S&#34;</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">            <span class="n">log_msg</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&#34;[</span><span class="si">{</span><span class="n">timestamp</span><span class="si">}</span><span class="s2">]  Executed </span><span class="si">{</span><span class="n">path</span><span class="o">.</span><span class="n">name</span><span class="si">}</span><span class="s2"> in </span><span class="si">{</span><span class="n">elapsed</span><span class="si">}</span><span class="s2">s</span><span class="se">\n</span><span class="s2">&#34;</span>
</span></span><span class="line"><span class="cl">            <span class="k">with</span> <span class="n">log_path</span><span class="o">.</span><span class="n">open</span><span class="p">(</span><span class="s2">&#34;a&#34;</span><span class="p">)</span> <span class="k">as</span> <span class="n">f</span><span class="p">:</span>
</span></span><span class="line"><span class="cl">                <span class="n">f</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="n">log_msg</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">            <span class="nb">print</span><span class="p">(</span><span class="n">log_msg</span><span class="o">.</span><span class="n">strip</span><span class="p">())</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">        <span class="k">yield</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">            <span class="s2">&#34;name&#34;</span><span class="p">:</span> <span class="n">subdir</span><span class="o">.</span><span class="n">name</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">            <span class="s2">&#34;actions&#34;</span><span class="p">:</span> <span class="p">[</span><span class="n">run_and_log</span><span class="p">],</span>
</span></span><span class="line"><span class="cl">            <span class="s2">&#34;file_dep&#34;</span><span class="p">:</span> <span class="p">[</span><span class="n">notebook_path</span><span class="p">],</span>
</span></span><span class="line"><span class="cl">            <span class="s2">&#34;uptodate&#34;</span><span class="p">:</span> <span class="p">[</span><span class="n">source_has_changed</span><span class="p">],</span>
</span></span><span class="line"><span class="cl">            <span class="s2">&#34;verbosity&#34;</span><span class="p">:</span> <span class="mi">2</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">        <span class="p">}</span>
</span></span></code></pre></div><p>Next, the <code>task_export_post_notebooks</code> function exports the executed jupyter notebook to both HTML and PDF formats.</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-python" data-lang="python"><span class="line"><span class="cl"><span class="k">def</span> <span class="nf">task_export_post_notebooks</span><span class="p">():</span>
</span></span><span class="line"><span class="cl">    <span class="s2">&#34;&#34;&#34;Export executed notebooks to HTML and PDF, and clean temp PNGs&#34;&#34;&#34;</span>
</span></span><span class="line"><span class="cl">    <span class="k">for</span> <span class="n">subdir</span> <span class="ow">in</span> <span class="n">POSTS_DIR</span><span class="o">.</span><span class="n">iterdir</span><span class="p">():</span>
</span></span><span class="line"><span class="cl">        <span class="k">if</span> <span class="ow">not</span> <span class="n">subdir</span><span class="o">.</span><span class="n">is_dir</span><span class="p">():</span>
</span></span><span class="line"><span class="cl">            <span class="k">continue</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">        <span class="n">notebook_name</span> <span class="o">=</span> <span class="n">subdir</span><span class="o">.</span><span class="n">name</span>
</span></span><span class="line"><span class="cl">        <span class="n">notebook_path</span> <span class="o">=</span> <span class="n">subdir</span> <span class="o">/</span> <span class="sa">f</span><span class="s2">&#34;</span><span class="si">{</span><span class="n">notebook_name</span><span class="si">}</span><span class="s2">.ipynb&#34;</span>
</span></span><span class="line"><span class="cl">        <span class="n">html_output</span> <span class="o">=</span> <span class="n">subdir</span> <span class="o">/</span> <span class="sa">f</span><span class="s2">&#34;</span><span class="si">{</span><span class="n">notebook_name</span><span class="si">}</span><span class="s2">.html&#34;</span>
</span></span><span class="line"><span class="cl">        <span class="n">pdf_output</span> <span class="o">=</span> <span class="n">subdir</span> <span class="o">/</span> <span class="sa">f</span><span class="s2">&#34;</span><span class="si">{</span><span class="n">notebook_name</span><span class="si">}</span><span class="s2">.pdf&#34;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">        <span class="k">if</span> <span class="ow">not</span> <span class="n">notebook_path</span><span class="o">.</span><span class="n">exists</span><span class="p">():</span>
</span></span><span class="line"><span class="cl">            <span class="k">continue</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">        <span class="k">yield</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">            <span class="s2">&#34;name&#34;</span><span class="p">:</span> <span class="n">notebook_name</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">            <span class="s2">&#34;actions&#34;</span><span class="p">:</span> <span class="p">[</span>
</span></span><span class="line"><span class="cl">                <span class="sa">f</span><span class="s2">&#34;jupyter nbconvert --to=html --log-level=WARN --output=</span><span class="si">{</span><span class="n">html_output</span><span class="si">}</span><span class="s2"> </span><span class="si">{</span><span class="n">notebook_path</span><span class="si">}</span><span class="s2">&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">                <span class="sa">f</span><span class="s2">&#34;jupyter nbconvert --to=pdf --log-level=WARN --output=</span><span class="si">{</span><span class="n">pdf_output</span><span class="si">}</span><span class="s2"> </span><span class="si">{</span><span class="n">notebook_path</span><span class="si">}</span><span class="s2">&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">                <span class="p">(</span><span class="n">clean_pdf_export_pngs</span><span class="p">,</span> <span class="p">[</span><span class="n">subdir</span><span class="p">,</span> <span class="n">notebook_name</span><span class="p">])</span>
</span></span><span class="line"><span class="cl">            <span class="p">],</span>
</span></span><span class="line"><span class="cl">            <span class="s2">&#34;file_dep&#34;</span><span class="p">:</span> <span class="p">[</span><span class="n">notebook_path</span><span class="p">],</span>
</span></span><span class="line"><span class="cl">            <span class="s2">&#34;targets&#34;</span><span class="p">:</span> <span class="p">[</span><span class="n">html_output</span><span class="p">,</span> <span class="n">pdf_output</span><span class="p">],</span>
</span></span><span class="line"><span class="cl">            <span class="s2">&#34;verbosity&#34;</span><span class="p">:</span> <span class="mi">2</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">            <span class="s2">&#34;clean&#34;</span><span class="p">:</span> <span class="p">[],</span>  <span class="c1"># Don&#39;t clean these files by default.</span>
</span></span><span class="line"><span class="cl">        <span class="p">}</span>
</span></span></code></pre></div><p>The <code>task_build_post_indices</code> builds each <code>index.md</code> file within each &ldquo;post&rdquo; directory. It looks for an <code>index_temp.md</code> and an <code>index_dep.txt</code> file, which contains the dependencies required to build the <code>index.md</code> file. The dependencies are established within the jupyter notebook for each post, and the <code>index_dep.txt</code> file is also updated when the notebook is executed.</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-python" data-lang="python"><span class="line"><span class="cl"><span class="k">def</span> <span class="nf">task_build_post_indices</span><span class="p">():</span>
</span></span><span class="line"><span class="cl">    <span class="s2">&#34;&#34;&#34;Run build_index.py in each post subdirectory to generate index.md&#34;&#34;&#34;</span>
</span></span><span class="line"><span class="cl">    <span class="n">script_path</span> <span class="o">=</span> <span class="n">SOURCE_DIR</span> <span class="o">/</span> <span class="s2">&#34;build_index.py&#34;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="k">for</span> <span class="n">subdir</span> <span class="ow">in</span> <span class="n">POSTS_DIR</span><span class="o">.</span><span class="n">iterdir</span><span class="p">():</span>
</span></span><span class="line"><span class="cl">        <span class="k">if</span> <span class="n">subdir</span><span class="o">.</span><span class="n">is_dir</span><span class="p">()</span> <span class="ow">and</span> <span class="p">(</span><span class="n">subdir</span> <span class="o">/</span> <span class="s2">&#34;index_temp.md&#34;</span><span class="p">)</span><span class="o">.</span><span class="n">exists</span><span class="p">():</span>
</span></span><span class="line"><span class="cl">            <span class="k">def</span> <span class="nf">run_script</span><span class="p">(</span><span class="n">subdir</span><span class="o">=</span><span class="n">subdir</span><span class="p">):</span>
</span></span><span class="line"><span class="cl">                <span class="n">subprocess</span><span class="o">.</span><span class="n">run</span><span class="p">(</span>
</span></span><span class="line"><span class="cl">                    <span class="p">[</span><span class="s2">&#34;python&#34;</span><span class="p">,</span> <span class="nb">str</span><span class="p">(</span><span class="n">script_path</span><span class="p">)],</span>
</span></span><span class="line"><span class="cl">                    <span class="n">cwd</span><span class="o">=</span><span class="n">subdir</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">                    <span class="n">check</span><span class="o">=</span><span class="kc">True</span>
</span></span><span class="line"><span class="cl">                <span class="p">)</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">            <span class="k">yield</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">                <span class="s2">&#34;name&#34;</span><span class="p">:</span> <span class="n">subdir</span><span class="o">.</span><span class="n">name</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">                <span class="s2">&#34;actions&#34;</span><span class="p">:</span> <span class="p">[</span><span class="n">run_script</span><span class="p">],</span>
</span></span><span class="line"><span class="cl">                <span class="s2">&#34;file_dep&#34;</span><span class="p">:</span> <span class="p">[</span>
</span></span><span class="line"><span class="cl">                    <span class="n">subdir</span> <span class="o">/</span> <span class="s2">&#34;index_temp.md&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">                    <span class="n">subdir</span> <span class="o">/</span> <span class="s2">&#34;index_dep.txt&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">                    <span class="n">script_path</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">                <span class="p">],</span>
</span></span><span class="line"><span class="cl">                <span class="s2">&#34;targets&#34;</span><span class="p">:</span> <span class="p">[</span><span class="n">subdir</span> <span class="o">/</span> <span class="s2">&#34;index.md&#34;</span><span class="p">],</span>
</span></span><span class="line"><span class="cl">                <span class="s2">&#34;verbosity&#34;</span><span class="p">:</span> <span class="mi">2</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">                <span class="s2">&#34;clean&#34;</span><span class="p">:</span> <span class="p">[],</span>  <span class="c1"># Don&#39;t clean these files by default.</span>
</span></span><span class="line"><span class="cl">            <span class="p">}</span>
</span></span></code></pre></div><p>Here&rsquo;s an example of when the <code>index_dep.txt</code> file is generated, and then updated with a markdown file dependency is generated with the <a href="/2025/02/02/reusable-extensible-python-functions-financial-data-analysis/#export_track_md_deps"><code>export_track_md_deps</code></a> function:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-python" data-lang="python"><span class="line"><span class="cl"><span class="c1"># Create file to track markdown dependencies</span>
</span></span><span class="line"><span class="cl"><span class="n">dep_file</span> <span class="o">=</span> <span class="n">Path</span><span class="p">(</span><span class="s2">&#34;index_dep.txt&#34;</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="n">dep_file</span><span class="o">.</span><span class="n">write_text</span><span class="p">(</span><span class="s2">&#34;&#34;</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1"># Copy this &lt;!-- INSERT_01_VIX_Stats_By_Year_HERE --&gt; to index_temp.md</span>
</span></span><span class="line"><span class="cl"><span class="n">export_track_md_deps</span><span class="p">(</span><span class="n">dep_file</span><span class="o">=</span><span class="n">dep_file</span><span class="p">,</span> <span class="n">md_filename</span><span class="o">=</span><span class="s2">&#34;01_VIX_Stats_By_Year.md&#34;</span><span class="p">,</span> <span class="n">content</span><span class="o">=</span><span class="n">vix_stats_by_year</span><span class="o">.</span><span class="n">to_markdown</span><span class="p">(</span><span class="n">floatfmt</span><span class="o">=</span><span class="s2">&#34;.2f&#34;</span><span class="p">))</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1"># Copy this &lt;!-- INSERT_02_VVIX_DF_Info_HERE --&gt; to index_temp.md</span>
</span></span><span class="line"><span class="cl"><span class="n">export_track_md_deps</span><span class="p">(</span><span class="n">dep_file</span><span class="o">=</span><span class="n">dep_file</span><span class="p">,</span> <span class="n">md_filename</span><span class="o">=</span><span class="s2">&#34;02_VVIX_DF_Info.md&#34;</span><span class="p">,</span> <span class="n">content</span><span class="o">=</span><span class="n">df_info_markdown</span><span class="p">(</span><span class="n">vix</span><span class="p">))</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1"># Copy this &lt;!-- INSERT_11_Net_Profit_Percent_HERE --&gt; to index_temp.md</span>
</span></span><span class="line"><span class="cl"><span class="n">export_track_md_deps</span><span class="p">(</span><span class="n">dep_file</span><span class="o">=</span><span class="n">dep_file</span><span class="p">,</span> <span class="n">md_filename</span><span class="o">=</span><span class="s2">&#34;11_Net_Profit_Percent.md&#34;</span><span class="p">,</span> <span class="n">content</span><span class="o">=</span><span class="n">net_profit_percent_str</span><span class="p">)</span>
</span></span></code></pre></div><p>Moving on, the <code>task_clean_public</code> removes the public directory within the static site. This is necessary to clean out any erroneous files or directories that are changed when the site is rebuilt.</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-python" data-lang="python"><span class="line"><span class="cl"><span class="k">def</span> <span class="nf">task_clean_public</span><span class="p">():</span>
</span></span><span class="line"><span class="cl">    <span class="s2">&#34;&#34;&#34;Remove the Hugo public directory before rebuilding the site.&#34;&#34;&#34;</span>
</span></span><span class="line"><span class="cl">    <span class="k">def</span> <span class="nf">remove_public</span><span class="p">():</span>
</span></span><span class="line"><span class="cl">        <span class="k">if</span> <span class="n">PUBLIC_DIR</span><span class="o">.</span><span class="n">exists</span><span class="p">():</span>
</span></span><span class="line"><span class="cl">            <span class="n">shutil</span><span class="o">.</span><span class="n">rmtree</span><span class="p">(</span><span class="n">PUBLIC_DIR</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">            <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&#34; Deleted </span><span class="si">{</span><span class="n">PUBLIC_DIR</span><span class="si">}</span><span class="s2">&#34;</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">        <span class="k">else</span><span class="p">:</span>
</span></span><span class="line"><span class="cl">            <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&#34;  </span><span class="si">{</span><span class="n">PUBLIC_DIR</span><span class="si">}</span><span class="s2"> does not exist, nothing to delete.&#34;</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">    <span class="k">return</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">        <span class="s2">&#34;actions&#34;</span><span class="p">:</span> <span class="p">[</span><span class="n">remove_public</span><span class="p">],</span>
</span></span><span class="line"><span class="cl">        <span class="s2">&#34;verbosity&#34;</span><span class="p">:</span> <span class="mi">2</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">        <span class="s2">&#34;clean&#34;</span><span class="p">:</span> <span class="p">[],</span>  <span class="c1"># Don&#39;t clean these files by default.</span>
</span></span><span class="line"><span class="cl">    <span class="p">}</span>
</span></span></code></pre></div><p>The <code>task_build_site</code> builds the Hugo static site.</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-python" data-lang="python"><span class="line"><span class="cl"><span class="k">def</span> <span class="nf">task_build_site</span><span class="p">():</span>
</span></span><span class="line"><span class="cl">    <span class="s2">&#34;&#34;&#34;Build the Hugo static site&#34;&#34;&#34;</span>
</span></span><span class="line"><span class="cl">    <span class="k">return</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">        <span class="s2">&#34;actions&#34;</span><span class="p">:</span> <span class="p">[</span><span class="s2">&#34;hugo&#34;</span><span class="p">],</span>
</span></span><span class="line"><span class="cl">        <span class="s2">&#34;task_dep&#34;</span><span class="p">:</span> <span class="p">[</span><span class="s2">&#34;clean_public&#34;</span><span class="p">],</span>
</span></span><span class="line"><span class="cl">        <span class="s2">&#34;verbosity&#34;</span><span class="p">:</span> <span class="mi">2</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">        <span class="s2">&#34;clean&#34;</span><span class="p">:</span> <span class="p">[],</span>  <span class="c1"># Don&#39;t clean these files by default.</span>
</span></span><span class="line"><span class="cl">    <span class="p">}</span>
</span></span></code></pre></div><p>The <code>task_copy_notebook_exports</code> copies the HTML and PDF exports generated above to the public folder. This is necessary due to how Hugo handles HTML and PDF files and excludes those when generating the static site public directories and files.</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-python" data-lang="python"><span class="line"><span class="cl"><span class="k">def</span> <span class="nf">task_copy_notebook_exports</span><span class="p">():</span>
</span></span><span class="line"><span class="cl">    <span class="s2">&#34;&#34;&#34;Copy notebook HTML exports into the correct Hugo public/ date-based folders&#34;&#34;&#34;</span>
</span></span><span class="line"><span class="cl">    <span class="k">for</span> <span class="n">subdir</span> <span class="ow">in</span> <span class="n">POSTS_DIR</span><span class="o">.</span><span class="n">iterdir</span><span class="p">():</span>
</span></span><span class="line"><span class="cl">        <span class="k">if</span> <span class="n">subdir</span><span class="o">.</span><span class="n">is_dir</span><span class="p">():</span>
</span></span><span class="line"><span class="cl">            <span class="n">html_file</span> <span class="o">=</span> <span class="n">subdir</span> <span class="o">/</span> <span class="sa">f</span><span class="s2">&#34;</span><span class="si">{</span><span class="n">subdir</span><span class="o">.</span><span class="n">name</span><span class="si">}</span><span class="s2">.html&#34;</span>
</span></span><span class="line"><span class="cl">            <span class="n">index_md</span> <span class="o">=</span> <span class="n">subdir</span> <span class="o">/</span> <span class="s2">&#34;index.md&#34;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">            <span class="k">if</span> <span class="ow">not</span> <span class="n">html_file</span><span class="o">.</span><span class="n">exists</span><span class="p">()</span> <span class="ow">or</span> <span class="ow">not</span> <span class="n">index_md</span><span class="o">.</span><span class="n">exists</span><span class="p">():</span>
</span></span><span class="line"><span class="cl">                <span class="k">continue</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">            <span class="c1"># Extract slug and date from front matter</span>
</span></span><span class="line"><span class="cl">            <span class="n">front_matter</span> <span class="o">=</span> <span class="n">extract_front_matter</span><span class="p">(</span><span class="n">index_md</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">            <span class="n">slug</span> <span class="o">=</span> <span class="n">front_matter</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&#34;slug&#34;</span><span class="p">,</span> <span class="n">subdir</span><span class="o">.</span><span class="n">name</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">            <span class="n">date_str</span> <span class="o">=</span> <span class="n">front_matter</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&#34;date&#34;</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">            <span class="k">if</span> <span class="ow">not</span> <span class="n">date_str</span><span class="p">:</span>
</span></span><span class="line"><span class="cl">                <span class="k">continue</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">            <span class="c1"># Old functionality to format path based on date</span>
</span></span><span class="line"><span class="cl">            <span class="c1"># # Format path like: public/YYYY/MM/DD/slug/</span>
</span></span><span class="line"><span class="cl">            <span class="c1"># date_obj = datetime.fromisoformat(date_str)</span>
</span></span><span class="line"><span class="cl">            <span class="c1"># public_path = PUBLIC_DIR / f&#34;{date_obj:%Y/%m/%d}&#34; / slug</span>
</span></span><span class="line"><span class="cl">            <span class="c1"># target_path = public_path / f&#34;{slug}.html&#34;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">            <span class="c1"># New functionality to ignore date and just use slug</span>
</span></span><span class="line"><span class="cl">            <span class="c1"># Format path like: public/posts/slug/</span>
</span></span><span class="line"><span class="cl">            <span class="n">date_obj</span> <span class="o">=</span> <span class="n">datetime</span><span class="o">.</span><span class="n">fromisoformat</span><span class="p">(</span><span class="n">date_str</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">            <span class="n">public_path</span> <span class="o">=</span> <span class="n">PUBLIC_DIR</span> <span class="o">/</span> <span class="s2">&#34;posts&#34;</span> <span class="o">/</span> <span class="n">slug</span>
</span></span><span class="line"><span class="cl">            <span class="n">target_path</span> <span class="o">=</span> <span class="n">public_path</span> <span class="o">/</span> <span class="sa">f</span><span class="s2">&#34;</span><span class="si">{</span><span class="n">slug</span><span class="si">}</span><span class="s2">.html&#34;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">            <span class="k">def</span> <span class="nf">copy_html</span><span class="p">(</span><span class="n">src</span><span class="o">=</span><span class="n">html_file</span><span class="p">,</span> <span class="n">dest</span><span class="o">=</span><span class="n">target_path</span><span class="p">):</span>
</span></span><span class="line"><span class="cl">                <span class="n">dest</span><span class="o">.</span><span class="n">parent</span><span class="o">.</span><span class="n">mkdir</span><span class="p">(</span><span class="n">parents</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">exist_ok</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">                <span class="n">shutil</span><span class="o">.</span><span class="n">copy2</span><span class="p">(</span><span class="n">src</span><span class="p">,</span> <span class="n">dest</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">                <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&#34; Copied </span><span class="si">{</span><span class="n">src</span><span class="si">}</span><span class="s2">  </span><span class="si">{</span><span class="n">dest</span><span class="si">}</span><span class="s2">&#34;</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">            <span class="k">yield</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">                <span class="s2">&#34;name&#34;</span><span class="p">:</span> <span class="n">subdir</span><span class="o">.</span><span class="n">name</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">                <span class="s2">&#34;actions&#34;</span><span class="p">:</span> <span class="p">[</span><span class="n">copy_html</span><span class="p">],</span>
</span></span><span class="line"><span class="cl">                <span class="s2">&#34;file_dep&#34;</span><span class="p">:</span> <span class="p">[</span><span class="n">html_file</span><span class="p">,</span> <span class="n">index_md</span><span class="p">],</span>
</span></span><span class="line"><span class="cl">                <span class="s2">&#34;targets&#34;</span><span class="p">:</span> <span class="p">[</span><span class="n">target_path</span><span class="p">],</span>
</span></span><span class="line"><span class="cl">                <span class="s2">&#34;task_dep&#34;</span><span class="p">:</span> <span class="p">[</span><span class="s2">&#34;build_site&#34;</span><span class="p">],</span>
</span></span><span class="line"><span class="cl">                <span class="s2">&#34;verbosity&#34;</span><span class="p">:</span> <span class="mi">2</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">                <span class="s2">&#34;clean&#34;</span><span class="p">:</span> <span class="p">[],</span>  <span class="c1"># Don&#39;t clean these files by default.</span>
</span></span><span class="line"><span class="cl">            <span class="p">}</span>
</span></span></code></pre></div><p>The <code>task_create_schwab_callback</code> creates a simple HTML file that will read the authorization code when using oauth with the Schwab API.</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-python" data-lang="python"><span class="line"><span class="cl"><span class="k">def</span> <span class="nf">task_create_schwab_callback</span><span class="p">():</span>
</span></span><span class="line"><span class="cl">    <span class="s2">&#34;&#34;&#34;Create a Schwab callback URL by creating /public/schwab_callback/index.html and placing the html code in it&#34;&#34;&#34;</span>
</span></span><span class="line"><span class="cl">    <span class="k">def</span> <span class="nf">create_callback</span><span class="p">():</span>
</span></span><span class="line"><span class="cl">        <span class="n">callback_path</span> <span class="o">=</span> <span class="n">PUBLIC_DIR</span> <span class="o">/</span> <span class="s2">&#34;schwab_callback&#34;</span> <span class="o">/</span> <span class="s2">&#34;index.html&#34;</span>
</span></span><span class="line"><span class="cl">        <span class="n">callback_path</span><span class="o">.</span><span class="n">parent</span><span class="o">.</span><span class="n">mkdir</span><span class="p">(</span><span class="n">parents</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">exist_ok</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">        <span class="n">html</span> <span class="o">=</span> <span class="s2">&#34;&#34;&#34;&lt;!DOCTYPE html&gt;
</span></span></span><span class="line"><span class="cl"><span class="s2">&lt;html lang=&#34;en&#34;&gt;
</span></span></span><span class="line"><span class="cl"><span class="s2">&lt;head&gt;
</span></span></span><span class="line"><span class="cl"><span class="s2">    &lt;meta charset=&#34;UTF-8&#34; /&gt;
</span></span></span><span class="line"><span class="cl"><span class="s2">    &lt;title&gt;Schwab OAuth Code&lt;/title&gt;
</span></span></span><span class="line"><span class="cl"><span class="s2">    &lt;script&gt;
</span></span></span><span class="line"><span class="cl"><span class="s2">        const params = new URLSearchParams(window.location.search);
</span></span></span><span class="line"><span class="cl"><span class="s2">        const code = params.get(&#34;code&#34;);
</span></span></span><span class="line"><span class="cl"><span class="s2">        document.write(&#34;&lt;h1&gt;Authorization Code:&lt;/h1&gt;&lt;p&gt;&#34; + code + &#34;&lt;/p&gt;&#34;);
</span></span></span><span class="line"><span class="cl"><span class="s2">    &lt;/script&gt;
</span></span></span><span class="line"><span class="cl"><span class="s2">&lt;/head&gt;
</span></span></span><span class="line"><span class="cl"><span class="s2">&lt;body&gt;&lt;/body&gt;
</span></span></span><span class="line"><span class="cl"><span class="s2">&lt;/html&gt;&#34;&#34;&#34;</span>
</span></span><span class="line"><span class="cl">        <span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="n">callback_path</span><span class="p">,</span> <span class="s2">&#34;w&#34;</span><span class="p">)</span> <span class="k">as</span> <span class="n">f</span><span class="p">:</span>
</span></span><span class="line"><span class="cl">            <span class="n">f</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="n">html</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">        <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&#34; Created Schwab callback page at </span><span class="si">{</span><span class="n">callback_path</span><span class="si">}</span><span class="s2">&#34;</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="k">return</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">        <span class="s2">&#34;actions&#34;</span><span class="p">:</span> <span class="p">[</span><span class="n">create_callback</span><span class="p">],</span>
</span></span><span class="line"><span class="cl">        <span class="s2">&#34;task_dep&#34;</span><span class="p">:</span> <span class="p">[</span><span class="s2">&#34;copy_notebook_exports&#34;</span><span class="p">,</span> <span class="s2">&#34;clean_public&#34;</span><span class="p">],</span>
</span></span><span class="line"><span class="cl">        <span class="s2">&#34;verbosity&#34;</span><span class="p">:</span> <span class="mi">2</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">        <span class="s2">&#34;clean&#34;</span><span class="p">:</span> <span class="p">[],</span>  <span class="c1"># Don&#39;t clean these files by default.</span>
</span></span><span class="line"><span class="cl">    <span class="p">}</span>
</span></span></code></pre></div><p>Finally, the <code>task_deploy_site</code> adds any new files, commits the changes, prompts for a message, and pushes the updates to GitHub.</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-python" data-lang="python"><span class="line"><span class="cl"><span class="k">def</span> <span class="nf">task_deploy_site</span><span class="p">():</span>
</span></span><span class="line"><span class="cl">    <span class="s2">&#34;&#34;&#34;Prompt for a commit message and push to GitHub&#34;&#34;&#34;</span>
</span></span><span class="line"><span class="cl">    <span class="k">def</span> <span class="nf">commit_and_push</span><span class="p">():</span>
</span></span><span class="line"><span class="cl">        <span class="n">message</span> <span class="o">=</span> <span class="nb">input</span><span class="p">(</span><span class="s2">&#34;What is the commit message? &#34;</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">        <span class="k">if</span> <span class="ow">not</span> <span class="n">message</span><span class="o">.</span><span class="n">strip</span><span class="p">():</span>
</span></span><span class="line"><span class="cl">            <span class="nb">print</span><span class="p">(</span><span class="s2">&#34; Commit message cannot be empty.&#34;</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">            <span class="k">return</span> <span class="mi">1</span>  <span class="c1"># signal failure</span>
</span></span><span class="line"><span class="cl">        <span class="kn">import</span> <span class="nn">subprocess</span>
</span></span><span class="line"><span class="cl">        <span class="n">subprocess</span><span class="o">.</span><span class="n">run</span><span class="p">([</span><span class="s2">&#34;git&#34;</span><span class="p">,</span> <span class="s2">&#34;add&#34;</span><span class="p">,</span> <span class="s2">&#34;.&#34;</span><span class="p">],</span> <span class="n">check</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">        <span class="n">subprocess</span><span class="o">.</span><span class="n">run</span><span class="p">([</span><span class="s2">&#34;git&#34;</span><span class="p">,</span> <span class="s2">&#34;commit&#34;</span><span class="p">,</span> <span class="s2">&#34;-am&#34;</span><span class="p">,</span> <span class="n">message</span><span class="p">],</span> <span class="n">check</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">        <span class="n">subprocess</span><span class="o">.</span><span class="n">run</span><span class="p">([</span><span class="s2">&#34;git&#34;</span><span class="p">,</span> <span class="s2">&#34;push&#34;</span><span class="p">],</span> <span class="n">check</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">        <span class="nb">print</span><span class="p">(</span><span class="s2">&#34; Pushed to GitHub.&#34;</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="k">return</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">        <span class="s2">&#34;actions&#34;</span><span class="p">:</span> <span class="p">[</span><span class="n">commit_and_push</span><span class="p">],</span>
</span></span><span class="line"><span class="cl">        <span class="s2">&#34;task_dep&#34;</span><span class="p">:</span> <span class="p">[</span><span class="s2">&#34;create_schwab_callback&#34;</span><span class="p">],</span>
</span></span><span class="line"><span class="cl">        <span class="s2">&#34;verbosity&#34;</span><span class="p">:</span> <span class="mi">2</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">        <span class="s2">&#34;clean&#34;</span><span class="p">:</span> <span class="p">[],</span>  <span class="c1"># Don&#39;t clean these files by default.</span>
</span></span><span class="line"><span class="cl">    <span class="p">}</span>
</span></span></code></pre></div><p>As (likely) expected, a good portion of the above code was generated by ChatGPT - somewhere ~ 50%-75%. The balance was generated by myself or modified using the base code provided. Importantly, the general idea of automating the entire process within Hugo and processing the post subdirectories is original (as far as I know).</p>
<p>Finally, the complete <code>dodo.py</code> and <code>settings.py</code> files are available in the jupyter notebook / HTML / PDF exports linked below.</p>
<h2 id="executing-doit" class="relative group">Executing doit <span class="absolute top-0 w-6 transition-opacity opacity-0 -start-6 not-prose group-hover:opacity-100"><a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700" style="text-decoration-line: none !important;" href="#executing-doit" aria-label="Anchor">#</a></span></h2><p>To execute <code>doit</code>, simply run:</p>
<pre><code>$ doit
</code></pre>
<p>in the terminal after changing to the high level directory.</p>
<p>Alternatively, you can list the individual tasks with:</p>
<pre><code>$ doit list
</code></pre>
<p>and then execute individually, such as:</p>
<pre><code>$ doit build_post_indices
</code></pre>
<p>And finally, <code>doit</code> can be forced to execute all tasks with:</p>
<pre><code>$ doit --always
</code></pre>
<p>or an individual task with:</p>
<pre><code>$ doit --always build_post_indices
</code></pre>
<h2 id="references" class="relative group">References <span class="absolute top-0 w-6 transition-opacity opacity-0 -start-6 not-prose group-hover:opacity-100"><a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700" style="text-decoration-line: none !important;" href="#references" aria-label="Anchor">#</a></span></h2><ol>
<li><a href="https://pydoit.org/" target="_blank" rel="noreferrer">https://pydoit.org/</a></li>
<li><a href="https://github.com/jmbejara" target="_blank" rel="noreferrer">https://github.com/jmbejara</a></li>
</ol>
<h2 id="code" class="relative group">Code <span class="absolute top-0 w-6 transition-opacity opacity-0 -start-6 not-prose group-hover:opacity-100"><a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700" style="text-decoration-line: none !important;" href="#code" aria-label="Anchor">#</a></span></h2>The Jupyter notebook with the functions and all other code is available <a href="automating-execution-jupyter-notebook-files-python-scripts-hugo-static-site-generation.ipynb">here</a>.<br>
The HTML export of the jupyter notebook is available <a href="automating-execution-jupyter-notebook-files-python-scripts-hugo-static-site-generation.html">here</a>.<br>
The PDF export of the jupyter notebook is available <a href="automating-execution-jupyter-notebook-files-python-scripts-hugo-static-site-generation.pdf">here</a>.

      </div>
    </section>
    <footer class="max-w-prose pt-8 print:hidden">
      
  <div class="flex">
    
    
    
      
      
        
        








  
    <picture
      class="!mb-0 !mt-0 me-4 w-24 h-auto rounded-full"
      
    >
      
      
      
      
      <img
        width="1835"
        height="1835"
        class="!mb-0 !mt-0 me-4 w-24 h-auto rounded-full"
        alt="Jared Szajkowski"
        loading="lazy" decoding="async"
        
          src="https://jaredszajkowski.github.io/jaredszajkowski.github.io_congo/img/profile_pic_hu_807eb4aeeb8a909c.jpg" srcset="https://jaredszajkowski.github.io/jaredszajkowski.github.io_congo/img/profile_pic_hu_12ef83e281637136.jpg 330w,https://jaredszajkowski.github.io/jaredszajkowski.github.io_congo/img/profile_pic_hu_807eb4aeeb8a909c.jpg 660w
          
            ,https://jaredszajkowski.github.io/jaredszajkowski.github.io_congo/img/profile_pic_hu_979fd5f15e5597f7.jpg 1024w
          
          
            ,https://jaredszajkowski.github.io/jaredszajkowski.github.io_congo/img/profile_pic_hu_6e4386d6b49b02c.jpg 1320w
          "
          sizes="100vw"
        
      />
    </picture>
  


      
    
    <div class="place-self-center">
      
        <div class="text-[0.6rem] uppercase leading-3 text-neutral-500 dark:text-neutral-400">
          Author
        </div>
        <div class="font-semibold leading-6 text-neutral-800 dark:text-neutral-300">
          Jared Szajkowski
        </div>
      
      
        <div class="text-sm text-neutral-700 dark:text-neutral-400">An Engineer Studying Quant Finance</div>
      
      <div class="text-2xl sm:text-lg">
  <div class="flex flex-wrap text-neutral-400 dark:text-neutral-500">
    
      
        <a
          class="px-1 transition-transform hover:scale-125 hover:text-primary-700 dark:hover:text-primary-400"
          style="will-change:transform;"
          href="mailto:jared.szajkowski@gmail.com"
          target="_blank"
          aria-label="Email"
          rel="me noopener noreferrer"
          ><span class="icon relative inline-block px-1 align-text-bottom"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><path fill="currentColor" d="M207.8 20.73c-93.45 18.32-168.7 93.66-187 187.1c-27.64 140.9 68.65 266.2 199.1 285.1c19.01 2.888 36.17-12.26 36.17-31.49l.0001-.6631c0-15.74-11.44-28.88-26.84-31.24c-84.35-12.98-149.2-86.13-149.2-174.2c0-102.9 88.61-185.5 193.4-175.4c91.54 8.869 158.6 91.25 158.6 183.2l0 16.16c0 22.09-17.94 40.05-40 40.05s-40.01-17.96-40.01-40.05v-120.1c0-8.847-7.161-16.02-16.01-16.02l-31.98 .0036c-7.299 0-13.2 4.992-15.12 11.68c-24.85-12.15-54.24-16.38-86.06-5.106c-38.75 13.73-68.12 48.91-73.72 89.64c-9.483 69.01 43.81 128 110.9 128c26.44 0 50.43-9.544 69.59-24.88c24 31.3 65.23 48.69 109.4 37.49C465.2 369.3 496 324.1 495.1 277.2V256.3C495.1 107.1 361.2-9.332 207.8 20.73zM239.1 304.3c-26.47 0-48-21.56-48-48.05s21.53-48.05 48-48.05s48 21.56 48 48.05S266.5 304.3 239.1 304.3z"/></svg>
</span></a
        >
      
    
      
        <a
          class="px-1 transition-transform hover:scale-125 hover:text-primary-700 dark:hover:text-primary-400"
          style="will-change:transform;"
          href="https://github.com/jaredszajkowski"
          target="_blank"
          aria-label="Github"
          rel="me noopener noreferrer"
          ><span class="icon relative inline-block px-1 align-text-bottom"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 496 512"><path fill="currentColor" d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z"/></svg>
</span></a
        >
      
    
      
        <a
          class="px-1 transition-transform hover:scale-125 hover:text-primary-700 dark:hover:text-primary-400"
          style="will-change:transform;"
          href="https://linkedin.com/in/jaredszajkowski"
          target="_blank"
          aria-label="Linkedin"
          rel="me noopener noreferrer"
          ><span class="icon relative inline-block px-1 align-text-bottom"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><path fill="currentColor" d="M416 32H31.9C14.3 32 0 46.5 0 64.3v383.4C0 465.5 14.3 480 31.9 480H416c17.6 0 32-14.5 32-32.3V64.3c0-17.8-14.4-32.3-32-32.3zM135.4 416H69V202.2h66.5V416zm-33.2-243c-21.3 0-38.5-17.3-38.5-38.5S80.9 96 102.2 96c21.2 0 38.5 17.3 38.5 38.5 0 21.3-17.2 38.5-38.5 38.5zm282.1 243h-66.4V312c0-24.8-.5-56.7-34.5-56.7-34.6 0-39.9 27-39.9 54.9V416h-66.4V202.2h63.7v29.2h.9c8.9-16.8 30.6-34.5 62.9-34.5 67.2 0 79.7 44.3 79.7 101.9V416z"/></svg>
</span></a
        >
      
    
  </div>

</div>
    </div>
  </div>


      
  
  <section class="flex flex-row flex-wrap justify-center pt-4 text-xl">
    
      
        <a
          class="m-1 inline-block min-w-[2.4rem] rounded bg-neutral-300 p-1 text-center text-neutral-700 hover:bg-primary-500 hover:text-neutral dark:bg-neutral-700 dark:text-neutral-300 dark:hover:bg-primary-400 dark:hover:text-neutral-800"
          href="mailto:?body=https://jaredszajkowski.github.io/jaredszajkowski.github.io_congo/posts/automating-execution-jupyter-notebook-files-python-scripts-hugo-static-site-generation/&amp;subject=Automating%20Execution%20of%20Jupyter%20Notebook%20Files,%20Python%20Scripts,%20and%20Hugo%20Static%20Site%20Generation"
          title="Send via email"
          aria-label="Send via email"
          target="_blank"
          rel="noopener noreferrer"
          ><span class="icon relative inline-block px-1 align-text-bottom"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><path fill="currentColor" d="M207.8 20.73c-93.45 18.32-168.7 93.66-187 187.1c-27.64 140.9 68.65 266.2 199.1 285.1c19.01 2.888 36.17-12.26 36.17-31.49l.0001-.6631c0-15.74-11.44-28.88-26.84-31.24c-84.35-12.98-149.2-86.13-149.2-174.2c0-102.9 88.61-185.5 193.4-175.4c91.54 8.869 158.6 91.25 158.6 183.2l0 16.16c0 22.09-17.94 40.05-40 40.05s-40.01-17.96-40.01-40.05v-120.1c0-8.847-7.161-16.02-16.01-16.02l-31.98 .0036c-7.299 0-13.2 4.992-15.12 11.68c-24.85-12.15-54.24-16.38-86.06-5.106c-38.75 13.73-68.12 48.91-73.72 89.64c-9.483 69.01 43.81 128 110.9 128c26.44 0 50.43-9.544 69.59-24.88c24 31.3 65.23 48.69 109.4 37.49C465.2 369.3 496 324.1 495.1 277.2V256.3C495.1 107.1 361.2-9.332 207.8 20.73zM239.1 304.3c-26.47 0-48-21.56-48-48.05s21.53-48.05 48-48.05s48 21.56 48 48.05S266.5 304.3 239.1 304.3z"/></svg>
</span></a
        >
      
    
      
        <a
          class="m-1 inline-block min-w-[2.4rem] rounded bg-neutral-300 p-1 text-center text-neutral-700 hover:bg-primary-500 hover:text-neutral dark:bg-neutral-700 dark:text-neutral-300 dark:hover:bg-primary-400 dark:hover:text-neutral-800"
          href="https://www.facebook.com/sharer/sharer.php?u=https://jaredszajkowski.github.io/jaredszajkowski.github.io_congo/posts/automating-execution-jupyter-notebook-files-python-scripts-hugo-static-site-generation/&amp;quote=Automating%20Execution%20of%20Jupyter%20Notebook%20Files,%20Python%20Scripts,%20and%20Hugo%20Static%20Site%20Generation"
          title="Share on Facebook"
          aria-label="Share on Facebook"
          target="_blank"
          rel="noopener noreferrer"
          ><span class="icon relative inline-block px-1 align-text-bottom"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><path fill="currentColor" d="M504 256C504 119 393 8 256 8S8 119 8 256c0 123.78 90.69 226.38 209.25 245V327.69h-63V256h63v-54.64c0-62.15 37-96.48 93.67-96.48 27.14 0 55.52 4.84 55.52 4.84v61h-31.28c-30.8 0-40.41 19.12-40.41 38.73V256h68.78l-11 71.69h-57.78V501C413.31 482.38 504 379.78 504 256z"/></svg>
</span></a
        >
      
    
      
        <a
          class="m-1 inline-block min-w-[2.4rem] rounded bg-neutral-300 p-1 text-center text-neutral-700 hover:bg-primary-500 hover:text-neutral dark:bg-neutral-700 dark:text-neutral-300 dark:hover:bg-primary-400 dark:hover:text-neutral-800"
          href="https://x.com/intent/tweet/?url=https://jaredszajkowski.github.io/jaredszajkowski.github.io_congo/posts/automating-execution-jupyter-notebook-files-python-scripts-hugo-static-site-generation/&amp;text=Automating%20Execution%20of%20Jupyter%20Notebook%20Files,%20Python%20Scripts,%20and%20Hugo%20Static%20Site%20Generation"
          title="Post on X"
          aria-label="Post on X"
          target="_blank"
          rel="noopener noreferrer"
          ><span class="icon relative inline-block px-1 align-text-bottom"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><path fill="currentColor" d="M389.2 48h70.6L305.6 224.2 487 464H345L233.7 318.6 106.5 464H35.8L200.7 275.5 26.8 48H172.4L272.9 180.9 389.2 48zM364.4 421.8h39.1L151.1 88h-42L364.4 421.8z"/></svg>
</span></a
        >
      
    
      
        <a
          class="m-1 inline-block min-w-[2.4rem] rounded bg-neutral-300 p-1 text-center text-neutral-700 hover:bg-primary-500 hover:text-neutral dark:bg-neutral-700 dark:text-neutral-300 dark:hover:bg-primary-400 dark:hover:text-neutral-800"
          href="https://www.linkedin.com/shareArticle?mini=true&amp;url=https://jaredszajkowski.github.io/jaredszajkowski.github.io_congo/posts/automating-execution-jupyter-notebook-files-python-scripts-hugo-static-site-generation/&amp;title=Automating%20Execution%20of%20Jupyter%20Notebook%20Files,%20Python%20Scripts,%20and%20Hugo%20Static%20Site%20Generation"
          title="Share on LinkedIn"
          aria-label="Share on LinkedIn"
          target="_blank"
          rel="noopener noreferrer"
          ><span class="icon relative inline-block px-1 align-text-bottom"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><path fill="currentColor" d="M416 32H31.9C14.3 32 0 46.5 0 64.3v383.4C0 465.5 14.3 480 31.9 480H416c17.6 0 32-14.5 32-32.3V64.3c0-17.8-14.4-32.3-32-32.3zM135.4 416H69V202.2h66.5V416zm-33.2-243c-21.3 0-38.5-17.3-38.5-38.5S80.9 96 102.2 96c21.2 0 38.5 17.3 38.5 38.5 0 21.3-17.2 38.5-38.5 38.5zm282.1 243h-66.4V312c0-24.8-.5-56.7-34.5-56.7-34.6 0-39.9 27-39.9 54.9V416h-66.4V202.2h63.7v29.2h.9c8.9-16.8 30.6-34.5 62.9-34.5 67.2 0 79.7 44.3 79.7 101.9V416z"/></svg>
</span></a
        >
      
    
      
        <a
          class="m-1 inline-block min-w-[2.4rem] rounded bg-neutral-300 p-1 text-center text-neutral-700 hover:bg-primary-500 hover:text-neutral dark:bg-neutral-700 dark:text-neutral-300 dark:hover:bg-primary-400 dark:hover:text-neutral-800"
          href="https://www.threads.net/intent/post?text=https://jaredszajkowski.github.io/jaredszajkowski.github.io_congo/posts/automating-execution-jupyter-notebook-files-python-scripts-hugo-static-site-generation/%20Automating%20Execution%20of%20Jupyter%20Notebook%20Files,%20Python%20Scripts,%20and%20Hugo%20Static%20Site%20Generation"
          title="Post on Threads"
          aria-label="Post on Threads"
          target="_blank"
          rel="noopener noreferrer"
          ><span class="icon relative inline-block px-1 align-text-bottom"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><path fill="currentColor" d="M331.5 235.7c2.2 .9 4.2 1.9 6.3 2.8c29.2 14.1 50.6 35.2 61.8 61.4c15.7 36.5 17.2 95.8-30.3 143.2c-36.2 36.2-80.3 52.5-142.6 53h-.3c-70.2-.5-124.1-24.1-160.4-70.2c-32.3-41-48.9-98.1-49.5-169.6V256v-.2C17 184.3 33.6 127.2 65.9 86.2C102.2 40.1 156.2 16.5 226.4 16h.3c70.3 .5 124.9 24 162.3 69.9c18.4 22.7 32 50 40.6 81.7l-40.4 10.8c-7.1-25.8-17.8-47.8-32.2-65.4c-29.2-35.8-73-54.2-130.5-54.6c-57 .5-100.1 18.8-128.2 54.4C72.1 146.1 58.5 194.3 58 256c.5 61.7 14.1 109.9 40.3 143.3c28 35.6 71.2 53.9 128.2 54.4c51.4-.4 85.4-12.6 113.7-40.9c32.3-32.2 31.7-71.8 21.4-95.9c-6.1-14.2-17.1-26-31.9-34.9c-3.7 26.9-11.8 48.3-24.7 64.8c-17.1 21.8-41.4 33.6-72.7 35.3c-23.6 1.3-46.3-4.4-63.9-16c-20.8-13.8-33-34.8-34.3-59.3c-2.5-48.3 35.7-83 95.2-86.4c21.1-1.2 40.9-.3 59.2 2.8c-2.4-14.8-7.3-26.6-14.6-35.2c-10-11.7-25.6-17.7-46.2-17.8H227c-16.6 0-39 4.6-53.3 26.3l-34.4-23.6c19.2-29.1 50.3-45.1 87.8-45.1h.8c62.6 .4 99.9 39.5 103.7 107.7l-.2 .2zm-156 68.8c1.3 25.1 28.4 36.8 54.6 35.3c25.6-1.4 54.6-11.4 59.5-73.2c-13.2-2.9-27.8-4.4-43.4-4.4c-4.8 0-9.6 .1-14.4 .4c-42.9 2.4-57.2 23.2-56.2 41.8l-.1 .1z"/></svg>
</span></a
        >
      
    
      
        <a
          class="m-1 inline-block min-w-[2.4rem] rounded bg-neutral-300 p-1 text-center text-neutral-700 hover:bg-primary-500 hover:text-neutral dark:bg-neutral-700 dark:text-neutral-300 dark:hover:bg-primary-400 dark:hover:text-neutral-800"
          href="https://bsky.app/intent/compose?text=https://jaredszajkowski.github.io/jaredszajkowski.github.io_congo/posts/automating-execution-jupyter-notebook-files-python-scripts-hugo-static-site-generation/Automating%20Execution%20of%20Jupyter%20Notebook%20Files,%20Python%20Scripts,%20and%20Hugo%20Static%20Site%20Generation"
          title=""
          aria-label=""
          target="_blank"
          rel="noopener noreferrer"
          ><span class="icon relative inline-block px-1 align-text-bottom"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 576 512"><!--!Font Awesome Free 6.5.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free Copyright 2024 Fonticons, Inc.--><path fill="currentColor" d="M407.8 294.7c-3.3-.4-6.7-.8-10-1.3c3.4 .4 6.7 .9 10 1.3zM288 227.1C261.9 176.4 190.9 81.9 124.9 35.3C61.6-9.4 37.5-1.7 21.6 5.5C3.3 13.8 0 41.9 0 58.4S9.1 194 15 213.9c19.5 65.7 89.1 87.9 153.2 80.7c3.3-.5 6.6-.9 10-1.4c-3.3 .5-6.6 1-10 1.4C74.3 308.6-9.1 342.8 100.3 464.5C220.6 589.1 265.1 437.8 288 361.1c22.9 76.7 49.2 222.5 185.6 103.4c102.4-103.4 28.1-156-65.8-169.9c-3.3-.4-6.7-.8-10-1.3c3.4 .4 6.7 .9 10 1.3c64.1 7.1 133.6-15.1 153.2-80.7C566.9 194 576 75 576 58.4s-3.3-44.7-21.6-52.9c-15.8-7.1-40-14.9-103.2 29.8C385.1 81.9 314.1 176.4 288 227.1z"/></svg>
</span></a
        >
      
    
  </section>


      
  
    
    
    
    <div class="pt-8">
      <hr class="border-dotted border-neutral-300 dark:border-neutral-600" />
      <div class="flex justify-between pt-3">
        <span>
          
            <a class="group flex" href="https://jaredszajkowski.github.io/jaredszajkowski.github.io_congo/posts/reusable-extensible-python-functions-financial-data-analysis/">
              <span
                class="me-2 text-neutral-700 transition-transform group-hover:-translate-x-[2px] group-hover:text-primary-600 dark:text-neutral dark:group-hover:text-primary-400"
                ><span class="ltr:inline rtl:hidden">&larr;</span
                ><span class="ltr:hidden rtl:inline">&rarr;</span></span
              >
              <span class="flex flex-col">
                <span
                  class="mt-[0.1rem] leading-6 group-hover:underline group-hover:decoration-primary-500"
                  >Reusable And Extensible Python Functions For Financial Data Analysis</span
                >
                <span class="mt-[0.1rem] text-xs text-neutral-500 dark:text-neutral-400">
                  
                    <time datetime="2025-02-02 00:00:01 &#43;0000 &#43;0000">February 2, 2025</time>
                  
                </span>
              </span>
            </a>
          
        </span>
        <span>
          
            <a class="group flex text-right" href="https://jaredszajkowski.github.io/jaredszajkowski.github.io_congo/posts/data-pipelining-with-polygon/">
              <span class="flex flex-col">
                <span
                  class="mt-[0.1rem] leading-6 group-hover:underline group-hover:decoration-primary-500"
                  >Data Pipelining With Polygon</span
                >
                <span class="mt-[0.1rem] text-xs text-neutral-500 dark:text-neutral-400">
                  
                    <time datetime="2025-08-10 00:00:01 &#43;0000 &#43;0000">August 10, 2025</time>
                  
                </span>
              </span>
              <span
                class="ms-2 text-neutral-700 transition-transform group-hover:-translate-x-[-2px] group-hover:text-primary-600 dark:text-neutral dark:group-hover:text-primary-400"
                ><span class="ltr:inline rtl:hidden">&rarr;</span
                ><span class="ltr:hidden rtl:inline">&larr;</span></span
              >
            </a>
          
        </span>
      </div>
    </div>
  


      
        
          <div class="pt-3">
            <hr class="border-dotted border-neutral-300 dark:border-neutral-600" />
            <div class="pt-3">
              

<script src="https://giscus.app/client.js"
        data-repo="jaredszajkowski/jaredszajkowski.github.io"
        data-repo-id="R_kgDOKZLn5w"
        data-category="Announcements"
        data-category-id="DIC_kwDOKZLn584CaJwO"
        data-mapping="title"
        data-strict="0"
        data-reactions-enabled="1"
        data-emit-metadata="0"
        data-input-position="top"
        data-theme="preferred_color_scheme"
        data-lang="en"
        crossorigin="anonymous"
        async>
</script>
            </div>
          </div>
        
      
    </footer>
  </article>

      </main>
      
        <div
          class="pointer-events-none absolute bottom-0 end-0 top-[100vh] w-12"
          id="to-top"
          hidden="true"
        >
          <a
            href="#the-top"
            class="pointer-events-auto sticky top-[calc(100vh-5.5rem)] flex h-12 w-12 items-center justify-center rounded-full bg-neutral/50 text-xl text-neutral-700 backdrop-blur hover:text-primary-600 dark:bg-neutral-800/50 dark:text-neutral dark:hover:text-primary-400"
            aria-label="Scroll to top"
            title="Scroll to top"
          >
            &uarr;
          </a>
        </div>
      <footer class="py-10 print:hidden">
  
  
  <div class="flex items-center justify-between">
    <div>
      
      
        <p class="text-sm text-neutral-500 dark:text-neutral-400">
            Copyright  2025 Jared Szajkowski. All rights reserved.
        </p>
      
      
      
        <p class="text-xs text-neutral-500 dark:text-neutral-400">
          
          
          Powered by <a class="hover:underline hover:decoration-primary-400 hover:text-primary-500"
            href="https://gohugo.io/" target="_blank" rel="noopener noreferrer">Hugo</a> &amp; <a class="hover:underline hover:decoration-primary-400 hover:text-primary-500" href="https://github.com/jpanther/congo" target="_blank" rel="noopener noreferrer">Congo</a>
        </p>
      
    </div>
    <div class="flex flex-row items-center">
      
      
      
      
    </div>
  </div>
  
  
</footer>
<div
  id="search-wrapper"
  class="invisible fixed inset-0 z-50 flex h-screen w-screen cursor-default flex-col bg-neutral-500/50 p-4 backdrop-blur-sm dark:bg-neutral-900/50 sm:p-6 md:p-[10vh] lg:p-[12vh]"
  data-url="https://jaredszajkowski.github.io/jaredszajkowski.github.io_congo/"
>
  <div
    id="search-modal"
    class="top-20 mx-auto flex min-h-0 w-full max-w-3xl flex-col rounded-md border border-neutral-200 bg-neutral shadow-lg dark:border-neutral-700 dark:bg-neutral-800"
  >
    <header class="relative z-10 flex flex-none items-center justify-between px-2">
      <form class="flex min-w-0 flex-auto items-center">
        <div class="flex h-8 w-8 items-center justify-center text-neutral-400">
          <span class="icon relative inline-block px-1 align-text-bottom"><svg aria-hidden="true" focusable="false" data-prefix="fas" data-icon="search" class="svg-inline--fa fa-search fa-w-16" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><path fill="currentColor" d="M505 442.7L405.3 343c-4.5-4.5-10.6-7-17-7H372c27.6-35.3 44-79.7 44-128C416 93.1 322.9 0 208 0S0 93.1 0 208s93.1 208 208 208c48.3 0 92.7-16.4 128-44v16.3c0 6.4 2.5 12.5 7 17l99.7 99.7c9.4 9.4 24.6 9.4 33.9 0l28.3-28.3c9.4-9.4 9.4-24.6.1-34zM208 336c-70.7 0-128-57.2-128-128 0-70.7 57.2-128 128-128 70.7 0 128 57.2 128 128 0 70.7-57.2 128-128 128z"/></svg>
</span>
        </div>
        <input
          type="search"
          id="search-query"
          class="mx-1 flex h-12 flex-auto appearance-none bg-transparent focus:outline-dotted focus:outline-2 focus:outline-transparent"
          placeholder="Search"
          tabindex="0"
        />
      </form>
      <button
        id="close-search-button"
        class="flex h-8 w-8 items-center justify-center text-neutral-700 hover:text-primary-600 dark:text-neutral dark:hover:text-primary-400"
        title="Close (Esc)"
      >
        <span class="icon relative inline-block px-1 align-text-bottom"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 320 512"><path fill="currentColor" d="M310.6 361.4c12.5 12.5 12.5 32.75 0 45.25C304.4 412.9 296.2 416 288 416s-16.38-3.125-22.62-9.375L160 301.3L54.63 406.6C48.38 412.9 40.19 416 32 416S15.63 412.9 9.375 406.6c-12.5-12.5-12.5-32.75 0-45.25l105.4-105.4L9.375 150.6c-12.5-12.5-12.5-32.75 0-45.25s32.75-12.5 45.25 0L160 210.8l105.4-105.4c12.5-12.5 32.75-12.5 45.25 0s12.5 32.75 0 45.25l-105.4 105.4L310.6 361.4z"/></svg>
</span>
      </button>
    </header>
    <section class="flex-auto overflow-auto px-2">
      <ul id="search-results">
        
      </ul>
    </section>
  </div>
</div>

    </div>
  </body>
</html>
